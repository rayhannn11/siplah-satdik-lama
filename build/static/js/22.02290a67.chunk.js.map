{"version":3,"sources":["api/store.js","services/randomString.js","components/shop/ShopProducts.jsx","../node_modules/reactstrap/es/ModalFooter.js","components/shared/ModalChat.jsx","components/shared/ModalMallReviews.jsx","components/store/Store.jsx"],"names":["storeApi","getNewProducts","options","arguments","length","undefined","filters","keyword","token","params","limit","page","sort","locationName","filter_province","locationId","filter_locationId","categoryId","filter_categoryId","longitude","latitude","Object","keys","forEach","slug","concat","fetch","qs","stringify","headers","Authorization","then","res","json","getStores","_objectSpread","process","getStore","addReviewStore","req","method","body","JSON","searchStore","uploadExcel","file","mall_id","formdata","FormData","append","createRandomString","dt","Date","getTime","uuid","replace","c","r","Math","random","floor","toString","String","parseQueryOptions","location","query","queryString","parse","optionValues","from","fromProductId","parseFloat","parseQueryFilters","filterValues","param","mr","match","filterSlug","initialState","init","categoryIsLoading","category","productsListIsLoading","productsList","reducer","state","action","type","option","value","filter","Error","window","search","ShopProducts","props","columns","viewMode","sidebarPosition","store","forAct","doHandleChooseProduct","mainProduct","customer","doHandleFetchCompareList","offcanvas","dispatch","useReducer","content","useParams","useEffect","x","encode","buildQuery","pathname","history","replaceState","canceled","shopApi","getProducts","result","data","item","categoryName","React","createElement","BlockLoader","productsView","ProductsView","isLoading","sorts","layout","grid","sidebarComponent","CategorySidebar","CategorySidebarItem","WidgetFilters","title","values","style","position","top","left","className","alt","src","image","width","opacity","display","height","transition","backfaceVisibility","transform","msTransform","textAlign","background","padding","color","name","priceCurrencyFormat","qty","class","sidebar","Fragment","defaultProps","connect","sidebarState","mapDispatchToProps","sidebarClose","propTypes","tag","tagPropType","PropTypes","string","cssModule","object","ModalFooter","Tag","attributes","_objectWithoutPropertiesLoose","classes","mapToCssModules","classNames","_extends","addChatList","isOpen","toggle","messages","setMessages","useState","message","setMessage","room","setRoom","doHandleSetMessages","useCallback","setRef","node","scrollIntoView","smoth","id","fire","database","ref","on","snapshot","val","set","requestOptions","redirect","response","text","myHeaders","Headers","Modal","size","overflowY","ModalHeader","ModalBody","maxHeight","overflowX","map","index","lastMessage","key","role","time","whiteSpace","sellerName","customerName","wordWrap","rows","resize","onChange","e","target","autoFocus","placeholder","onClick","doHandleSendMessage","async","ModalMallReviews","storeId","setState","items","setOptions","getMallReviews","reviewList","review","Rating","rate","createdAt","Pagination","onPageChange","current","siblings","total","pages","storeIsLoading","FETCH_DETAIL_STORE","FETCH_DETAIL_STORE_SUCCESS","auth","setIsOpen","openReviews","setOpenReviews","status","code","doOpenModal","Link","to","backgroundColor","Helmet","theme","borderRadius","maxWidth","paddingTop","overflow","borderTopLeftRadius","borderTopRightRadius","borderBottom","header","objectFit","borderBottomLeftRadius","borderBottomRightRadius","primary","province","totalProduct","pic","phone","address","email","averageRating","cursor","totalRating","ModalChat"],"mappings":"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","file":"static/js/22.02290a67.chunk.js","sourcesContent":["import qs from \"query-string\";\nconst storeApi = {\n    getNewProducts: (options = {}, filters = {}, keyword, token) => {\n        const params = {\n            limit: options.limit || 10,\n            page: options.page || 1,\n        };\n\n        // Add keyword to params if provided\n        if (keyword) {\n            params.keyword = keyword;\n        }\n\n        // Add sort option if provided\n        if (options.sort) {\n            params.sort = options.sort;\n        }\n\n        // Add location filters if provided\n        if (options.locationName) {\n            params.filter_province = options.locationName;\n        }\n        if (options.locationId) {\n            params.filter_locationId = options.locationId;\n        }\n        if (options.categoryId) {\n            params.filter_categoryId = options.categoryId;\n        }\n        if (options.longitude) {\n            params.longitude = options.longitude;\n        }\n        if (options.latitude) {\n            params.latitude = options.latitude;\n        }\n\n        // Add filters to params\n        Object.keys(filters).forEach((slug) => {\n            params[`filter_${slug}`] = filters[slug];\n        });\n\n        return fetch(`https://siplah.eurekabookhouse.co.id/api/product/shortProduct?${qs.stringify(params)}`, {\n            headers: {\n                \"Content-Type\": \"application/json\",\n                Authorization: token || \"\",\n            },\n        }).then((res) => res.json());\n    },\n    getStores: (options = {}, filters = {}, keyword, token) => {\n        const params = { ...options, keyword };\n\n        Object.keys(filters).forEach((slug) => {\n            params[`filter_${slug}`] = filters[slug];\n        });\n        return fetch(`${process.env.REACT_APP_URL_SIPLAH}mall?${qs.stringify(params)}`, {\n            headers: {\n                \"Content-Type\": \"application/json\",\n                Authorization: token || \"\",\n            },\n        }).then((res) => res.json());\n    },\n    getStore: (slug) => {\n        const params = { slug };\n        return fetch(`${process.env.REACT_APP_URL_SIPLAH}mall?${qs.stringify(params)}`).then((res) => res.json());\n    },\n\n    addReviewStore: (req, token) => {\n        return fetch(`${process.env.REACT_APP_URL_SIPLAH}mall/review`, {\n            method: \"post\",\n            headers: { \"Content-Type\": \"application/json\", Authorization: token },\n            body: JSON.stringify(req),\n        }).then((res) => res.json());\n    },\n    searchStore: (keyword) => {\n        return fetch(`https://siplahstagingapi.eurekagroup.id/penyedia/get-cv?page=1&limit=5&keyword=${keyword}`, {\n            method: \"get\",\n            headers: { \"Content-Type\": \"application/json\" },\n        }).then((res) => res.json());\n    },\n    uploadExcel: (file, mall_id) => {\n        const formdata = new FormData();\n        formdata.append(\"file\", file);\n        formdata.append(\"mall_id\", mall_id);\n        return fetch(`https://siplahstagingapi.eurekagroup.id/v1/mitra/penyedia/uploadCSV`, {\n            method: \"POST\",\n            body: formdata,\n        }).then((res) => res.json());\n    },\n};\n\nexport default storeApi;\n","/*eslint no-mixed-operators: \"off\"*/\n/*eslint eqeqeq: \"off\"*/\n/*eslint no-new-wrappers: \"off\"*/\nfunction createRandomString() {\n    var dt = new Date().getTime();\n    var uuid = 'xxxxxxxx-xxxx-4xxx-yxxx-xxxxxxxxxxxx'.replace(/[xy]/g, function (c) {\n        var r = (dt + Math.random() * 16) % 16 | 0;\n        dt = Math.floor(dt / 16);\n        return (c == 'x' ? r : (r & 0x3 | 0x8)).toString(16);\n    });\n    return new String(uuid);\n\n}\n\n\nexport default createRandomString","// react\nimport React, { useEffect, useReducer } from \"react\";\nimport { useParams } from \"react-router-dom\";\n\n// third-party\nimport PropTypes from \"prop-types\";\nimport queryString from \"query-string\";\nimport { connect } from \"react-redux\";\n\n// application\nimport BlockLoader from \"../blocks/BlockLoader\";\nimport CategorySidebar from \"./CategorySidebar\";\nimport CategorySidebarItem from \"./CategorySidebarItem\";\nimport ProductsView from \"./ProductsView\";\nimport shopApi from \"../../api/shop\";\nimport WidgetFilters from \"../widgets/WidgetFilters\";\nimport { sidebarClose } from \"../../store/sidebar\";\n\nfunction parseQueryOptions(location) {\n    const query = queryString.parse(location);\n\n    const optionValues = {\n        page: 1,\n        limit: 6,\n        from: \"\",\n        fromProductId: \"\",\n    };\n\n    if (typeof query.page === \"string\") {\n        optionValues.page = parseFloat(query.page);\n    }\n    if (typeof query.limit === \"string\") {\n        optionValues.limit = parseFloat(query.limit);\n    }\n    if (typeof query.sort === \"string\") {\n        optionValues.sort = query.sort;\n    }\n    if (typeof query.keyword === \"string\") {\n        optionValues.keyword = query.keyword;\n    }\n    if (typeof query.from === \"string\") {\n        optionValues.from = query.from;\n    }\n    if (typeof query.fromProductId === \"string\") {\n        optionValues.fromProductId = query.fromProductId;\n    }\n    if (typeof query.categoryId === \"string\") {\n        optionValues.categoryId = query.categoryId;\n    }\n\n    return optionValues;\n}\n\nfunction parseQueryFilters(location) {\n    const query = queryString.parse(location);\n    const filterValues = {};\n\n    Object.keys(query).forEach((param) => {\n        const mr = param.match(/^filter_([-_A-Za-z0-9]+)$/);\n\n        if (!mr) {\n            return;\n        }\n\n        const filterSlug = mr[1];\n\n        filterValues[filterSlug] = query[param];\n    });\n\n    return filterValues;\n}\n\nfunction parseQuery(location) {\n    return [parseQueryOptions(location), parseQueryFilters(location)];\n}\n\nfunction buildQuery(options, filters) {\n    const params = {};\n\n    if (options.page !== 1) {\n        params.page = options.page;\n    }\n\n    if (options.limit !== 6) {\n        params.limit = options.limit;\n    }\n\n    if (options.sort !== \"\") {\n        params.sort = options.sort;\n    }\n    if (options.keyword !== \"\") {\n        params.keyword = options.keyword;\n    }\n\n    if (options.from !== \"\") {\n        params.from = options.from;\n    }\n    if (options.fromProductId !== \"\") {\n        params.fromProductId = options.fromProductId;\n    }\n\n    if (options.categoryId !== \"\") {\n        params.categoryId = options.categoryId;\n    }\n\n    Object.keys(filters)\n        .filter((x) => !!filters[x])\n        .forEach((filterSlug) => {\n            params[`filter_${filterSlug}`] = filters[filterSlug];\n        });\n\n    return queryString.stringify(params, { encode: false });\n}\n\nconst initialState = {\n    init: false,\n    /**\n     * Indicates that the category is loading.\n     */\n    categoryIsLoading: true,\n    /**\n     * Category object.\n     */\n    category: null,\n    /**\n     * Indicates that the products list is loading.\n     */\n    productsListIsLoading: true,\n    /**\n     * Products list.\n     */\n    productsList: null,\n    /**\n     * Products list options.\n     *\n     * options.page:  number - Current page.\n     * options.limit: number - Items per page.\n     * options.sort:  string - Sort algorithm.\n     */\n    options: {},\n    /**\n     * Products list filters.\n     *\n     * filters[FILTER_SLUG]: string - filter value.\n     */\n    filters: {},\n    // categoryName: \"\",\n    // categoryId: \"\",\n};\n\nfunction reducer(state, action) {\n    switch (action.type) {\n        case \"FETCH_CATEGORY_SUCCESS\":\n            return {\n                ...state,\n                init: true,\n                categoryIsLoading: false,\n                category: action.category,\n            };\n        case \"FETCH_PRODUCTS_LIST\":\n            return { ...state, productsListIsLoading: true };\n        case \"FETCH_PRODUCTS_LIST_SUCCESS\":\n            return { ...state, productsListIsLoading: false, productsList: action.productsList };\n        case \"SET_OPTION_VALUE\":\n            return {\n                ...state,\n                options: { ...state.options, page: 1, [action.option]: action.value },\n            };\n        case \"SET_FILTER_VALUE\":\n            return {\n                ...state,\n                options: { ...state.options, page: 1 },\n                filters: { ...state.filters, [action.filter]: action.value },\n            };\n        case \"RESET_FILTERS\":\n            return { ...state, options: { page: 1, limit: 6 }, filters: {} };\n        case \"RESET\":\n            return state.init ? initialState : state;\n        default:\n            throw new Error();\n    }\n}\n\nfunction init(state) {\n    const [options, filters] = parseQuery(window.location.search);\n\n    return { ...state, options, filters };\n}\n\nfunction ShopProducts(props) {\n    const {\n        columns,\n        viewMode,\n        sidebarPosition,\n        store,\n        forAct,\n        doHandleChooseProduct,\n        mainProduct,\n        customer,\n        doHandleFetchCompareList,\n    } = props;\n    const offcanvas = columns === 3 ? \"mobile\" : \"always\";\n    const [state, dispatch] = useReducer(reducer, initialState, init);\n    let { slug, categoryId } = useParams();\n\n    // Replace current url.\n    useEffect(() => {\n        const query = buildQuery(state.options, state.filters);\n\n        const location = `${window.location.pathname}${query ? \"?\" : \"\"}${query}`;\n        window.history.replaceState(null, \"\", location);\n    }, [state.options, state.filters]);\n\n    if (store !== \"\" && store !== undefined) {\n        slug = store;\n    }\n    // Load products.\n    useEffect(() => {\n        let canceled = false;\n        dispatch({ type: \"FETCH_PRODUCTS_LIST\" });\n        shopApi\n            .getProducts({ ...state.options }, { ...state.filters }, slug, categoryId, customer?.token)\n            .then((result) => {\n                const { data } = result;\n                if (canceled) {\n                    return;\n                }\n\n                if (!forAct) {\n                    dispatch({\n                        type: \"FETCH_PRODUCTS_LIST_SUCCESS\",\n                        productsList: { ...data, filters: data.filters.filter((item) => item.type !== \"category\") },\n                    });\n                } else {\n                    dispatch({ type: \"FETCH_PRODUCTS_LIST_SUCCESS\", productsList: data });\n                }\n            });\n\n        return () => {\n            canceled = true;\n        };\n        //eslint-disable-next-line\n    }, [dispatch, slug, store, categoryId, state.categoryName, state.options, state.filters, customer?.token]);\n\n    if (state.productsListIsLoading && !state.productsList) {\n        return <BlockLoader />;\n    }\n\n    let content;\n\n    // if (state.category) {\n    //     getCategoryParents(state.category).forEach((parent) => {\n    //         breadcrumb.push({ title: parent.name, url: url.category(parent) });\n    //     });\n\n    //     breadcrumb.push({ title: state.category.name, url: url.category(state.category) });\n\n    //     pageTitle = state.category.name;\n    // }\n\n    const productsView = (\n        <ProductsView\n            forAct={forAct}\n            doHandleChooseProduct={doHandleChooseProduct}\n            isLoading={state.productsListIsLoading}\n            productsList={state.productsList}\n            mainProduct={mainProduct}\n            sorts={state.productsList.sorts}\n            options={state.options}\n            filters={state.filters}\n            dispatch={dispatch}\n            layout={viewMode}\n            doHandleFetchCompareList={doHandleFetchCompareList}\n            grid={`grid-${columns}-${columns > 3 ? \"full\" : \"sidebar\"}`}\n            offcanvas={offcanvas}\n        />\n    );\n\n    let sidebarComponent = (\n        <CategorySidebar offcanvas={offcanvas}>\n            <CategorySidebarItem>\n                <WidgetFilters\n                    title=\"Filter\"\n                    offcanvas={offcanvas}\n                    filters={state.productsList.filters}\n                    values={state.filters}\n                    dispatch={dispatch}\n                />\n            </CategorySidebarItem>\n        </CategorySidebar>\n    );\n\n    if (forAct === \"compare\") {\n        sidebarComponent = (\n            <CategorySidebar offcanvas={offcanvas} style={{ position: \"sticky\", top: \"10px\", left: 0 }}>\n                <div className=\"card\">\n                    <div className=\"card-body\">\n                        <div className=\"row\">\n                            <div className=\"col-12\">\n                                <img\n                                    alt=\"\"\n                                    src={mainProduct.image}\n                                    style={{\n                                        width: \"100%\",\n                                        opacity: 0.7,\n                                        display: \"block\",\n                                        height: \"auto\",\n                                        transition: \".5s ease\",\n                                        backfaceVisibility: \"hidden\",\n                                    }}\n                                />\n                            </div>\n                            <div\n                                className=\"col-12 text-center\"\n                                style={{\n                                    position: \"absolute\",\n                                    top: \" 50%\",\n                                    left: \" 50%\",\n                                    transform: \"translate(-50%, -50%)\",\n                                    msTransform: \"translate(-50%, -50%)\",\n                                    textAlign: \"center\",\n                                    background: \"rgba(0,0,0,.5)\",\n                                    padding: \"17px\",\n                                    color: \"white\",\n                                }}\n                            >\n                                <h5>{mainProduct.name}</h5>\n                                <h6>{mainProduct.priceCurrencyFormat}</h6>\n                                <h6>Jumlah : {mainProduct.qty}</h6>\n                                <span class=\"badge badge-primary\">Barang Yang Dibandingkan</span>\n                            </div>\n                        </div>\n                    </div>\n                </div>\n            </CategorySidebar>\n        );\n    }\n\n    if (columns > 4) {\n        content = (\n            <div className=\"container mt-5\">\n                <div className=\"block\">{productsView}</div>\n                {sidebarComponent}\n            </div>\n        );\n    } else {\n        const sidebar = <div className=\"shop-layout__sidebar\">{sidebarComponent}</div>;\n\n        content = (\n            <div style={{ background: \"rgb(236,236,237)\" }} className=\"pt-5\">\n                <div className=\"container\">\n                    <div className={`shop-layout shop-layout--sidebar--${sidebarPosition}`}>\n                        {sidebarPosition === \"start\" && sidebar}\n                        <div className=\"shop-layout__content\">\n                            <div className=\"block\">{productsView}</div>\n                        </div>\n                        {sidebarPosition === \"end\" && sidebar}\n                    </div>\n                </div>\n            </div>\n        );\n    }\n\n    return <React.Fragment>{content}</React.Fragment>;\n}\n\nShopProducts.propTypes = {\n    /**\n     * Category slug.\n     */\n    categorySlug: PropTypes.string,\n    /**\n     * number of product columns (default: 3)\n     */\n    columns: PropTypes.number,\n    /**\n     * mode of viewing the list of products (default: 'grid')\n     * one of ['grid', 'grid-with-features', 'list']\n     */\n    viewMode: PropTypes.oneOf([\"grid\", \"grid-with-features\", \"list\"]),\n    /**\n     * sidebar position (default: 'start')\n     * one of ['start', 'end']\n     * for LTR scripts \"start\" is \"left\" and \"end\" is \"right\"\n     */\n    sidebarPosition: PropTypes.oneOf([\"start\", \"end\"]),\n    forAct: PropTypes.string,\n};\n\nShopProducts.defaultProps = {\n    columns: 3,\n    viewMode: \"grid\",\n    sidebarPosition: \"start\",\n};\n\nconst mapStateToProps = (state) => ({\n    sidebarState: state.sidebar,\n    page: state.category,\n    customer: state.customer,\n});\n\nconst mapDispatchToProps = () => ({\n    sidebarClose,\n});\n\nexport default connect(mapStateToProps, mapDispatchToProps)(ShopProducts);\n","import _extends from \"@babel/runtime/helpers/esm/extends\";\nimport _objectWithoutPropertiesLoose from \"@babel/runtime/helpers/esm/objectWithoutPropertiesLoose\";\nimport React from 'react';\nimport PropTypes from 'prop-types';\nimport classNames from 'classnames';\nimport { mapToCssModules, tagPropType } from './utils';\nvar propTypes = {\n  tag: tagPropType,\n  className: PropTypes.string,\n  cssModule: PropTypes.object\n};\nvar defaultProps = {\n  tag: 'div'\n};\n\nvar ModalFooter = function ModalFooter(props) {\n  var className = props.className,\n      cssModule = props.cssModule,\n      Tag = props.tag,\n      attributes = _objectWithoutPropertiesLoose(props, [\"className\", \"cssModule\", \"tag\"]);\n\n  var classes = mapToCssModules(classNames(className, 'modal-footer'), cssModule);\n  return React.createElement(Tag, _extends({}, attributes, {\n    className: classes\n  }));\n};\n\nModalFooter.propTypes = propTypes;\nModalFooter.defaultProps = defaultProps;\nexport default ModalFooter;","import React, { useCallback, useEffect, useState } from \"react\";\nimport { connect } from \"react-redux\";\nimport { Modal, ModalBody, ModalHeader } from \"reactstrap\";\nimport classNames from \"classnames\";\nimport { addChatList } from \"../../store/chat\";\nimport fire from \"../../services/fire\";\nimport createRandomString from \"../../services/randomString\";\n\nconst ModalChat = (props) => {\n    const { isOpen, toggle, store, customer } = props;\n    const [messages, setMessages] = useState([]);\n    const [message, setMessage] = useState(\"\");\n    const [room, setRoom] = useState(\"\");\n\n    const doHandleSetMessages = useCallback((messages) => {\n        setMessages(messages);\n    }, []);\n\n    const setRef = useCallback((node) => {\n        if (node) {\n            node.scrollIntoView({ smoth: true });\n        }\n    }, []);\n\n    // get room\n    useEffect(() => {\n        fetch(`${process.env.REACT_APP_API_CHAT}room?customerId=${customer.id}&sellerId=${store.id}`)\n            .then((res) => res.json())\n            .then((res) => {\n                fire.database()\n                    .ref(`/contact/customer/${res.room}`)\n                    .on(\"value\", (snapshot) => {\n                        if (snapshot.val() === null) {\n                            fire.database().ref(`/contact/customer/${res.room}`).set(`${createRandomString()}`);\n                        }\n                    });\n                setRoom(res.room);\n            });\n        return () => {};\n        // eslint-disable-next-line react-hooks/exhaustive-deps\n    }, [customer.id, store.id]);\n\n    // read chat\n    useEffect(() => {\n        if (customer.id === undefined && store.id === undefined) return;\n\n        var formdata = new FormData();\n        formdata.append(\"customerId\", customer.id);\n        formdata.append(\"seller_id\", store.id);\n        formdata.append(\"role\", \"seller\");\n\n        var requestOptions = {\n            method: \"POST\",\n            body: formdata,\n            redirect: \"follow\",\n        };\n\n        fetch(`${process.env.REACT_APP_URL_SIPLAH}backendseller/Mychat/readChat`, requestOptions).then((response) => {\n            fire.database().ref(`/unread-message/customer/${customer.id}`).set(`${createRandomString()}`);\n            response.text();\n        });\n\n        // eslint-disable-next-line react-hooks/exhaustive-deps\n    }, [store.id]);\n\n    //get message\n    useEffect(() => {\n        fire.database()\n            .ref(`/contact/customer/${room}`)\n            .on(\"value\", (snapshot) => {\n                fetch(`${process.env.REACT_APP_API_CHAT}message?customerId=${customer.id}&sellerId=${store.id}`)\n                    .then((res) => res.json())\n                    .then((res) => {\n                        doHandleSetMessages(res);\n                    });\n            });\n    }, [store.id, customer.id, doHandleSetMessages, room]);\n\n    useEffect(() => {\n        let canceled = false;\n        if (canceled) return;\n        var myHeaders = new Headers();\n\n        var formdata = new FormData();\n        formdata.append(\"customerId\", customer.id);\n        formdata.append(\"seller_id\", store.id);\n\n        var requestOptions = {\n            method: \"POST\",\n            headers: myHeaders,\n            body: formdata,\n            redirect: \"follow\",\n        };\n\n        fetch(`${process.env.REACT_APP_URL_SIPLAH}backendseller/Mychat/checkRoom`, requestOptions).then((response) => {\n            response.text();\n        });\n\n        return () => {\n            canceled = true;\n        };\n        // eslint-disable-next-line react-hooks/exhaustive-deps\n    }, []);\n\n    const doHandleSendMessage = () => {\n        if (message !== \"\") {\n            var myHeaders = new Headers();\n\n            var formdata = new FormData();\n            formdata.append(\"customerId\", customer.id);\n            formdata.append(\"seller_id\", store.id);\n            formdata.append(\"message\", message);\n            formdata.append(\"role\", \"customer\");\n\n            var requestOptions = {\n                method: \"POST\",\n                headers: myHeaders,\n                body: formdata,\n                redirect: \"follow\",\n            };\n\n            fetch(`${process.env.REACT_APP_URL_SIPLAH}backendseller/mychat/addchattoRoom`, requestOptions).then(\n                async (response) => {\n                    fire.database().ref(`/unread-message/seller/${store.id}`).set(`${createRandomString()}`);\n                    fire.database().ref(`/contact/seller/${room}`).set(`${createRandomString()}`);\n                    setMessages([...messages, await response.json()]);\n                    setMessage(\"\");\n                }\n            );\n        }\n    };\n\n    return (\n        <Modal isOpen={isOpen} toggle={toggle} size=\"xl\" style={{ overflowY: \"hidden\" }}>\n            <ModalHeader toggle={toggle}>\n                <h6>{store.name}</h6>\n            </ModalHeader>\n            <ModalBody>\n                <div className=\"col-xl-12 col-lg-12 col-md-12 col-sm-12 col-12\">\n                    <div className=\"chat-container\">\n                        <ul\n                            className=\"chat-box chatContainerScroll\"\n                            style={{\n                                maxHeight: \"40vh\",\n                                overflowY: \"auto\",\n                                overflowX: \"hidden\",\n                            }}\n                        >\n                            {messages.map((item, index) => {\n                                const lastMessage = messages.length - 1 === index;\n                                return (\n                                    <>\n                                        <li\n                                            key={index}\n                                            ref={lastMessage ? setRef : null}\n                                            className={classNames(\"\", {\n                                                \"chat-left\": item.role === \"seller\",\n                                                \"chat-right mr-2\": item.role === \"customer\",\n                                            })}\n                                        >\n                                            {item.role === \"customer\" && <div className=\"chat-hour\">{item.time}</div>}\n                                            <div\n                                                // style={{ background: \"#3e5b8a\" }}\n                                                className={classNames(\"chat-text text-light\", {\n                                                    \"bg-info\": item.role === \"seller\",\n                                                    \"bg-secondary\": item.role === \"customer\",\n                                                })}\n                                                style={{ whiteSpace: \"pre-line\" }}\n                                            >\n                                                <h6 className=\"font-weight-bold mb-1 text-capitalize\">\n                                                    {item.role === \"seller\" ? item.sellerName : item.customerName}\n                                                </h6>\n                                                <span style={{ wordWrap: \"anywhere\" }}>{item.text}</span>\n                                            </div>\n                                            {item.role === \"seller\" && <div className=\"chat-hour\">{item.time}</div>}\n                                        </li>\n                                    </>\n                                );\n                            })}\n                        </ul>\n                        <div className=\"form-group mt-3 mb-1\">\n                            <textarea\n                                className=\"form-control\"\n                                rows={3}\n                                style={{ resize: \"none\" }}\n                                value={message}\n                                onChange={(e) => setMessage(e.target.value)}\n                                autoFocus\n                                placeholder=\"Tulis Pesan Anda...\"\n                            />\n                        </div>\n                        <div className=\"form-group\">\n                            {/* <AsyncAction\n                                action={doHandleSendMessage}\n                                render={({ run, loading }) => ( */}\n                            <button\n                                type=\"button\"\n                                onClick={doHandleSendMessage}\n                                className={classNames(\"btn btn-primary btn-lg btn-block\")}\n                            >\n                                Kirim Pesan\n                            </button>\n                            {/* )}\n                            /> */}\n                        </div>\n                    </div>\n                </div>\n            </ModalBody>\n        </Modal>\n    );\n};\n\nconst mapStateToProps = (state) => ({ customer: state.customer });\n\nconst mapDispatchToProps = {\n    addChatList,\n};\n\nexport default connect(mapStateToProps, mapDispatchToProps)(ModalChat);\n","import React, { useEffect, useState } from \"react\";\nimport { ModalBody, Modal, ModalHeader, ModalFooter } from \"reactstrap\";\nimport shopApi from \"../../api/shop\";\nimport Rating from \"./Rating\";\nimport Pagination from \"./Pagination\";\n\nconst ModalMallReviews = (props) => {\n    const { toggle, isOpen, storeId } = props;\n    const [state, setState] = useState({ items: [] });\n    const [options, setOptions] = useState({ page: 1, limit: 5 });\n\n    useEffect(() => {\n        shopApi.getMallReviews(storeId, options).then((res) => {\n            setState(res.data);\n        });\n\n        // eslint-disable-next-line react-hooks/exhaustive-deps\n    }, [options]);\n\n    let reviewList = [];\n    if (state.items) {\n        reviewList = state.items.map((review, index) => (\n            <li key={index} className=\"reviews-list__item\">\n                <div className=\"review\">\n                    <div className=\" review__content\">\n                        <div className=\" review__author\">{review.customerName}</div>\n                        <div className=\" review__rating\">\n                            <Rating value={review.rate} />\n                        </div>\n                        <div className=\" review__text\">{review.text}</div>\n                        <div className=\" review__date\">{review.createdAt}</div>\n                    </div>\n                </div>\n            </li>\n        ));\n    }\n\n    return (\n        <Modal isOpen={isOpen} toggle={() => toggle(!isOpen)} size=\"xl\">\n            <ModalHeader toggle={() => toggle(!isOpen)}>\n                <h5>Ulasan Toko</h5>\n            </ModalHeader>\n            <ModalBody>\n                <div\n                    className=\"reviews-view\"\n                    style={{\n                        maxHeight: \"50vh\",\n                        overflowY: \"auto\",\n                        overflowX: \"hidden\",\n                    }}\n                >\n                    <div className=\"reviews-view__list\">\n                        <div className=\"reviews-list\">\n                            {reviewList.length > 0 ? (\n                                <>\n                                    <ol className=\"reviews-list__content\">{reviewList}</ol>\n                                </>\n                            ) : (\n                                <h5 className=\"text-center\">Belum Ada Ulasan</h5>\n                            )}\n                        </div>\n                    </div>\n                </div>\n            </ModalBody>\n            {reviewList.length > 0 && (\n                <ModalFooter className=\"align-items-center justify-content-center\">\n                    <div className=\"reviews-list__pagination\">\n                        <Pagination\n                            onPageChange={(page) => setOptions({ ...options, page })}\n                            current={state.page}\n                            siblings={2}\n                            total={state.pages}\n                        />\n                    </div>\n                </ModalFooter>\n            )}\n        </Modal>\n    );\n};\n\nexport default ModalMallReviews;\n","import React, { useEffect, useReducer, useState } from \"react\";\nimport { Helmet } from \"react-helmet-async\";\nimport { Link, useParams } from \"react-router-dom\";\nimport theme from \"../../data/theme\";\nimport storeApi from \"../../api/store\";\nimport { FETCH_DETAIL_STORE, FETCH_DETAIL_STORE_SUCCESS } from \"../../data/constant\";\nimport BlockLoader from \"../blocks/BlockLoader\";\nimport ShopProducts from \"../shop/ShopProducts\";\nimport ModalChat from \"../shared/ModalChat\";\nimport { connect } from \"react-redux\";\nimport Rating from \"../shared/Rating\";\nimport ModalMallReviews from \"../shared/ModalMallReviews\";\n\nconst initialState = {\n    store: null,\n    storeIsLoading: true,\n};\n\nfunction reducer(state, action) {\n    switch (action.type) {\n        case FETCH_DETAIL_STORE:\n            return { ...state, storeIsLoading: true };\n\n        case FETCH_DETAIL_STORE_SUCCESS:\n            return { ...state, storeIsLoading: false, store: action.store };\n\n        default:\n            throw new Error();\n    }\n}\n\nconst Store = (props) => {\n    const { slug } = useParams();\n    const [state, dispatch] = useReducer(reducer, initialState);\n    const [isOpen, setIsOpen] = useState(false);\n    const [openReviews, setOpenReviews] = useState(false);\n\n    const { store, storeIsLoading } = state;\n\n    useEffect(() => {\n        dispatch({ type: FETCH_DETAIL_STORE });\n        storeApi.getStore(slug).then((res) => {\n            const { data, status } = res;\n            if (status.code === 200) {\n                dispatch({ type: FETCH_DETAIL_STORE_SUCCESS, store: data });\n            } else {\n                dispatch({ type: FETCH_DETAIL_STORE_SUCCESS, store: null });\n            }\n        });\n        return () => { };\n    }, [slug]);\n\n    const doOpenModal = () => {\n        setIsOpen(!isOpen);\n    };\n\n    if (storeIsLoading) {\n        return <BlockLoader />;\n    }\n\n    if (store == null) {\n        return (\n            <div className=\"block block-empty \">\n                <div className=\"container\">\n                    <div className=\"block-empty__body\">\n                        <div className=\"block-empty__message\">Toko Tidak Ditemukan</div>\n                        <div className=\"block-empty__actions\">\n                            <Link to=\"/store\" className=\"btn btn-primary btn-sm\">\n                                Cari Toko\n                            </Link>\n                        </div>\n                    </div>\n                </div>\n            </div>\n        );\n    }\n\n    return (\n        <div className=\"pt-4\" style={{ backgroundColor: 'rgb(236, 236, 237)' }}>\n            <Helmet>\n                <title>{`${store.name}  ${theme.name}`}</title>\n            </Helmet>\n            <div className=\"container\">\n                <div className=\"card shadow\" style={{ borderRadius: '20px' }}>\n                    <div\n                        style={{\n                            display: \"block\",\n                            width: \"100%\",\n                            maxWidth: \"1200px\",\n                            maxHeight: \"100%\",\n                            position: \"relative\",\n                            paddingTop: \"30.25%\",\n                            overflow: \"hidden\",\n                            backgroundColor: \"rgb(255,247,241)\",\n                            borderTopLeftRadius: '20px',\n                            borderTopRightRadius: '20px',\n                            borderBottom: \"2px solid #F0F0F0\",\n                        }}\n                    >\n                        <img\n                            alt=\"\"\n                            src={store.image.header}\n                            style={{\n                                display: \"block\",\n                                position: \"absolute\",\n                                height: \"100%\",\n                                objectFit: \"contain\",\n                                top: \"50%\",\n                                left: \"50%\",\n                                transform: \"translate(-50%,-50%)\",\n                            }}\n                        />\n                    </div>\n                    <div className=\"card-body position-relative\" style={{ borderBottomLeftRadius: '20px', borderBottomRightRadius: '20px', backgroundColor: 'rgb(255,247,241)' }}>\n                        <div\n                            className=\"rounded-circle shadow d-flex justify-content-center position-absolute img-profile__store bg-white\"\n                            style={{\n                                background: ` no-repeat center/75% url(${store.image.primary})`,\n                            }}\n                        ></div>\n                        <div className=\"row\">\n                            <div className=\"col-md-4\">\n                                <h4 className=\"m-0\">{store.name}</h4>\n                                <span>\n                                    {store.location.province} | Total {store.totalProduct} Produk\n                                </span>\n                            </div>\n                            <div className=\"offset-md-2 col-md-4\">\n                                {props.auth && (\n                                    <button className=\"btn btn-sm btn-primary d-block mt-1\" onClick={doOpenModal}>\n                                        Chat Penjual\n                                    </button>\n                                )}\n                            </div>\n                        </div>\n                        <div className=\"row\">\n                            <div className=\"col-md-6\">\n                                <small className=\"store-info__title mt-2\">Nama PIC</small>\n                                <small className=\"mt-0 text-uppercase\">{store.pic.name}</small>\n                                <small className=\"store-info__title mt-2\">Telp PIC</small>\n                                <small className=\"mt-0\">{store.pic.phone}</small>\n                                <small className=\"store-info__title mt-2\">Jabatan PIC</small>\n                                <small className=\"mt-0 text-uppercase\">{store.pic.position}</small>\n                            </div>\n                            <div className=\"col-md-6\">\n                                <small className=\"store-info__title\">Alamat Toko</small>\n                                <small className=\"mt-0\">{store.location.address}</small>\n                                <small className=\"store-info__title\">Email Toko</small>\n                                <small className=\"mt-0\">{store.email}</small>\n                                <small className=\"store-info__title\">Jenis Usaha</small>\n                                <small className=\"mt-0\">{store.type}</small>\n                                <small className=\"store-info__title\">Rating Toko</small>\n                                <div className=\"product__rating mt-2\">\n                                    <div className=\"product__rating-stars\">\n                                        <Rating value={store.averageRating} />\n                                    </div>\n                                    <div\n                                        className=\"product__rating-legend\"\n                                        style={{ color: \"blue\", cursor: \"pointer\" }}\n                                        onClick={() => setOpenReviews(!openReviews)}\n                                    >\n                                        <u>({`${store.totalRating} Ulasan`})</u>\n                                    </div>\n                                </div>\n                            </div>\n                        </div>\n                    </div>\n                </div>\n                <ModalMallReviews storeId={store.id} toggle={setOpenReviews} isOpen={openReviews} />\n            </div>\n            <ShopProducts forAct=\"store\" />\n            {props.auth && isOpen && <ModalChat isOpen={isOpen} toggle={doOpenModal} store={store} />}\n        </div>\n    );\n};\n\nconst mapStateToProps = (state) => ({ auth: state.auth });\n\nexport default connect(mapStateToProps, null)(Store);\n"],"sourceRoot":""}