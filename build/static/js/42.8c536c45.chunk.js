(this["webpackJsonpsiplah.eureka"]=this["webpackJsonpsiplah.eureka"]||[]).push([[42],{178:function(t,e,a){"use strict";a.r(e);var r=a(1),o=a.n(r),s=a(9),i=a(6),n=a.n(i),c=a(34),l=a(135),d=a(167),u=a(168),p=a(171),m=a(57),f=a(170),g=a(58);function y(t){const e=n.a.parse(t),a={page:1,limit:6,from:"",fromProductId:""};return"string"===typeof e.page&&(a.page=parseFloat(e.page)),"string"===typeof e.limit&&(a.limit=parseFloat(e.limit)),"string"===typeof e.sort&&(a.sort=e.sort),"string"===typeof e.keyword&&(a.keyword=e.keyword),"string"===typeof e.from&&(a.from=e.from),"string"===typeof e.fromProductId&&(a.fromProductId=e.fromProductId),"string"===typeof e.categoryId&&(a.categoryId=e.categoryId),a}function E(t){const e=n.a.parse(t),a={};return Object.keys(e).forEach(t=>{const r=t.match(/^filter_([-_A-Za-z0-9]+)$/);if(!r)return;const o=r[1];a[o]=e[t]}),a}const b={init:!1,categoryIsLoading:!0,category:null,productsListIsLoading:!0,productsList:null,options:{},filters:{}};function L(t,e){switch(e.type){case"FETCH_CATEGORY_SUCCESS":return{...t,init:!0,categoryIsLoading:!1,category:e.category};case"FETCH_PRODUCTS_LIST":return{...t,productsListIsLoading:!0};case"FETCH_PRODUCTS_LIST_SUCCESS":return{...t,productsListIsLoading:!1,productsList:e.productsList};case"SET_OPTION_VALUE":return{...t,options:{...t.options,page:1,[e.option]:e.value}};case"SET_FILTER_VALUE":return{...t,options:{...t.options,page:1},filters:{...t.filters,[e.filter]:e.value}};case"RESET_FILTERS":return{...t,options:{page:1,limit:6},filters:{}};case"RESET":return t.init?b:t;default:throw new Error}}function h(t){const[e,a]=[y(r=window.location.search),E(r)];var r;return{...t,options:e,filters:a}}function I(t){const{columns:e,viewMode:a,sidebarPosition:i,store:c,forAct:g,doHandleChooseProduct:y,mainProduct:E,customer:I,doHandleFetchCompareList:S}=t,_=3===e?"mobile":"always",[C,v]=Object(r.useReducer)(L,b,h);let T,{slug:w,categoryId:k}=Object(s.i)();if(Object(r.useEffect)(()=>{const t=function(t,e){const a={};return 1!==t.page&&(a.page=t.page),6!==t.limit&&(a.limit=t.limit),""!==t.sort&&(a.sort=t.sort),""!==t.keyword&&(a.keyword=t.keyword),""!==t.from&&(a.from=t.from),""!==t.fromProductId&&(a.fromProductId=t.fromProductId),""!==t.categoryId&&(a.categoryId=t.categoryId),Object.keys(e).filter(t=>!!e[t]).forEach(t=>{a["filter_"+t]=e[t]}),n.a.stringify(a,{encode:!1})}(C.options,C.filters),e=`${window.location.pathname}${t?"?":""}${t}`;window.history.replaceState(null,"",e)},[C.options,C.filters]),""!==c&&void 0!==c&&(w=c),Object(r.useEffect)(()=>{let t=!1;return v({type:"FETCH_PRODUCTS_LIST"}),m.a.getProducts({...C.options},{...C.filters},w,k,I.token).then(e=>{const{data:a}=e;t||v(g?{type:"FETCH_PRODUCTS_LIST_SUCCESS",productsList:a}:{type:"FETCH_PRODUCTS_LIST_SUCCESS",productsList:{...a,filters:a.filters.filter(t=>"category"!==t.type)}})}),()=>{t=!0}},[v,w,c,k,C.categoryName,C.options,C.filters,I.token]),C.productsListIsLoading&&!C.productsList)return o.a.createElement(l.default,null);const P=o.a.createElement(p.a,{forAct:g,doHandleChooseProduct:y,isLoading:C.productsListIsLoading,productsList:C.productsList,mainProduct:E,sorts:C.productsList.sorts,options:C.options,filters:C.filters,dispatch:v,layout:a,doHandleFetchCompareList:S,grid:`grid-${e}-${e>3?"full":"sidebar"}`,offcanvas:_});let F=o.a.createElement(d.a,{offcanvas:_},o.a.createElement(u.a,null,o.a.createElement(f.a,{title:"Filter",offcanvas:_,filters:C.productsList.filters,values:C.filters,dispatch:v})));if("compare"===g&&(F=o.a.createElement(d.a,{offcanvas:_,style:{position:"sticky",top:"10px",left:0}},o.a.createElement("div",{className:"card"},o.a.createElement("div",{className:"card-body"},o.a.createElement("div",{className:"row"},o.a.createElement("div",{className:"col-12"},o.a.createElement("img",{alt:"",src:E.image,style:{width:"100%",opacity:.7,display:"block",height:"auto",transition:".5s ease",backfaceVisibility:"hidden"}})),o.a.createElement("div",{className:"col-12 text-center",style:{position:"absolute",top:" 50%",left:" 50%",transform:"translate(-50%, -50%)",msTransform:"translate(-50%, -50%)",textAlign:"center",background:"rgba(0,0,0,.5)",padding:"17px",color:"white"}},o.a.createElement("h5",null,E.name),o.a.createElement("h6",null,E.priceCurrencyFormat),o.a.createElement("h6",null,"Jumlah : ",E.qty),o.a.createElement("span",{class:"badge badge-primary"},"Barang Yang Dibandingkan"))))))),e>4)T=o.a.createElement("div",{className:"container mt-5"},o.a.createElement("div",{className:"block"},P),F);else{const t=o.a.createElement("div",{className:"shop-layout__sidebar"},F);T=o.a.createElement("div",{style:{background:"rgb(236,236,237)"},className:"pt-5"},o.a.createElement("div",{className:"container"},o.a.createElement("div",{className:"shop-layout shop-layout--sidebar--"+i},"start"===i&&t,o.a.createElement("div",{className:"shop-layout__content"},o.a.createElement("div",{className:"block"},P)),"end"===i&&t)))}return o.a.createElement(o.a.Fragment,null,T)}I.defaultProps={columns:3,viewMode:"grid",sidebarPosition:"start"};e.default=Object(c.b)(t=>({sidebarState:t.sidebar,page:t.category,customer:t.customer}),()=>({sidebarClose:g.b}))(I)}}]);
//# sourceMappingURL=42.8c536c45.chunk.js.map