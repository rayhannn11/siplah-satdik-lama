(this["webpackJsonpsiplah.eureka"]=this["webpackJsonpsiplah.eureka"]||[]).push([[27],{141:function(e,t,a){"use strict";var s=a(1),i=a.n(s),n=a(29),r=a.n(n);class l extends s.Component{constructor(){super(...arguments),this.setPage=e=>{const{total:t,current:a,onPageChange:s}=this.props;e<1||e>t||e===a||s&&s(e)}}getPages(){const{siblings:e,current:t,total:a}=this.props,s=[],i=Math.max(1,t-e-Math.max(0,e-a+t)),n=Math.min(a,i+2*e);for(let r=i;r<=n;r+=1)s.push(r);return s}render(){var e;const{current:t,total:a}=this.props,s=r()("page-item",{disabled:t<=1}),n=r()("page-item",{disabled:t>=a}),l=this.getPages().map((e,a)=>{const s=r()("page-item",{active:e===t});return i.a.createElement("li",{key:a,className:s,style:{zIndex:0}},i.a.createElement("button",{type:"button",className:"page-link",onClick:()=>this.setPage(e)},e,e===t&&i.a.createElement("span",{className:"sr-only"},"(current)")))});return i.a.createElement("ul",{className:r()("pagination justify-content-center",{white:null===(e=this.props)||void 0===e?void 0:e.white}),style:{zIndex:-1}},i.a.createElement("li",{className:s},i.a.createElement("button",{type:"button",className:"page-link page-link--with-arrow","aria-label":"Previous",onClick:()=>this.setPage(1)},i.a.createElement("i",{className:"fas fa-angle-double-left fa-1x"}))),l,i.a.createElement("li",{className:n},i.a.createElement("button",{type:"button",className:"page-link page-link--with-arrow","aria-label":"Next",onClick:()=>this.setPage(this.props.total)},i.a.createElement("i",{className:"fas fa-angle-double-right"}))))}}l.defaultProps={siblings:1,current:1,total:1},t.a=l},142:function(e,t,a){"use strict";var s=a(6),i=a.n(s);const n={getNewProducts:function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},a=arguments.length>2?arguments[2]:void 0,s=arguments.length>3?arguments[3]:void 0;const n={limit:e.limit||10,page:e.page||1};return a&&(n.keyword=a),e.sort&&(n.sort=e.sort),e.locationName&&(n.filter_province=e.locationName),e.locationId&&(n.filter_locationId=e.locationId),e.categoryId&&(n.filter_categoryId=e.categoryId),e.longitude&&(n.longitude=e.longitude),e.latitude&&(n.latitude=e.latitude),Object.keys(t).forEach(e=>{n["filter_"+e]=t[e]}),fetch("https://siplah.eurekabookhouse.co.id/api/product/shortProduct?"+i.a.stringify(n),{headers:{"Content-Type":"application/json",Authorization:s||""}}).then(e=>e.json())},getStores:function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},a=arguments.length>2?arguments[2]:void 0,s=arguments.length>3?arguments[3]:void 0;const n={...e,keyword:a};return Object.keys(t).forEach(e=>{n["filter_"+e]=t[e]}),fetch("https://siplah.eurekabookhouse.co.id/api/mall?"+i.a.stringify(n),{headers:{"Content-Type":"application/json",Authorization:s||""}}).then(e=>e.json())},getStore:e=>{const t={slug:e};return fetch("https://siplah.eurekabookhouse.co.id/api/mall?"+i.a.stringify(t)).then(e=>e.json())},addReviewStore:(e,t)=>fetch("https://siplah.eurekabookhouse.co.id/api/mall/review",{method:"post",headers:{"Content-Type":"application/json",Authorization:t},body:JSON.stringify(e)}).then(e=>e.json()),searchStore:e=>fetch("https://siplahstagingapi.eurekagroup.id/penyedia/get-cv?page=1&limit=5&keyword="+e,{method:"get",headers:{"Content-Type":"application/json"}}).then(e=>e.json()),uploadExcel:(e,t)=>{const a=new FormData;return a.append("file",e),a.append("mall_id",t),fetch("https://siplahstagingapi.eurekagroup.id/penyedia/uploadCSV",{method:"POST",body:a}).then(e=>e.json())}};t.a=n},377:function(e,t,a){"use strict";a.r(t);var s=a(1),i=a.n(s);var n={getProvince:()=>fetch("https://siplah.eurekabookhouse.co.id/api/master/province").then(e=>e.json()),getCity:e=>fetch("https://siplah.eurekabookhouse.co.id/api/master/city/"+e).then(e=>e.json()),getDistrict:e=>fetch("https://siplah.eurekabookhouse.co.id/api/master/district/"+e).then(e=>e.json())},r=a(142),l=a(6),o=a.n(l),c=a(29),d=a.n(c),p=a(33),m=a(169),u=a(141),g=a(23);const h=e=>{const{storeList:t,isLoading:a,state:n,dispatch:r,doHandleChooseStore:l,doChangeProvince:o,doChangeCity:c,doChangeDistrict:h,doChangeKeywordValue:y,layout:v,options:f}=e;let b;const k=function(e,t,a){const i=Object(s.useCallback)(t,[]);return Object(s.useCallback)(t=>{a({type:g.K,option:e,value:i(t)})},[e,i,a])}("page",parseFloat,r),E=d()("products-view",{"products-view--loading":a});return b=void 0===t.items?[]:"modal"===v?t.items.map((e,t)=>i.a.createElement("div",{className:"col-lg-6 mt-3"},i.a.createElement("div",{class:"card ",style:{borderRadius:"12px"}},i.a.createElement("div",{className:"card-body"},i.a.createElement("div",{className:"row"},i.a.createElement("div",{className:"col-5"},i.a.createElement("img",{src:e.image.primary,alt:"",className:"img-contain"})),i.a.createElement("div",{className:"col-7"},i.a.createElement("h5",{className:"font-weight-bold",style:{overflow:"hidden",textOverflow:"ellipsis",wordBreak:" break-all",whiteSpace:"nowrap",marginBottom:"0px",textTransform:"uppercase"}},e.name),i.a.createElement("h6",{className:"mb-0"},e.location.province),i.a.createElement("div",null,i.a.createElement("small",null,e.totalProduct," Produk")),i.a.createElement("button",{className:"btn btn-primary",onClick:()=>l(e)},"Pilih"))))))):t.items.map((e,t)=>i.a.createElement("div",{className:"col-lg-6 mt-3"},i.a.createElement(p.b,{to:"/store/"+e.slug,className:"text-dark"},i.a.createElement("div",{class:"card shadow",style:{borderRadius:"12px"}},i.a.createElement("div",{className:"card-body"},i.a.createElement("div",{className:"row"},i.a.createElement("div",{className:"col-5"},i.a.createElement("img",{src:e.image.primary,alt:"",className:"img-contain"})),i.a.createElement("div",{className:"col-7"},i.a.createElement("h5",{style:{color:"rgb(255, 98, 33)"},className:"font-weight-bold text-uppercase"},e.name),i.a.createElement("span",{className:"text-secondary d-block"},e.location.city),i.a.createElement("small",{className:"text-primary"},e.totalProduct," Produk")))))))),i.a.createElement(i.a.Fragment,null,i.a.createElement("div",{className:"row mt-3"},i.a.createElement("div",{className:"col-12"},i.a.createElement("div",{class:"card bg-danger border-0 shadow",style:{borderRadius:"20px"}},i.a.createElement("div",{class:"card-body"},i.a.createElement("div",{className:"row align-items-center"},i.a.createElement("div",{className:"col-12 mb-2"},i.a.createElement("h4",{className:"text-white"},"Cari penyedia sesuai wilayah")),i.a.createElement("div",{className:"col-lg-4 col-sm-6"},i.a.createElement("div",{class:"form-group"},i.a.createElement(m.a,{isClearable:!0,className:"basic-single",classNamePrefix:"select",value:n.selectedProvince,onChange:o,isLoading:n.provinceIsLoading,isSearchable:!0,name:"province",placeholder:"Pilih Provinsi",options:n.provincesList}))),i.a.createElement("div",{className:"col-lg-4 col-sm-6"},i.a.createElement("div",{class:"form-group"},i.a.createElement(m.a,{isClearable:!0,className:"basic-single",classNamePrefix:"select",value:n.selectedCity,onChange:c,isLoading:n.cityIsLoading,isSearchable:!0,name:"city",isDisabled:null==n.citiesList,placeholder:"Pilih Kabupaten/Kota",options:n.citiesList}))),i.a.createElement("div",{className:"col-lg-4 col-sm-6 "},i.a.createElement("div",{class:"form-group"},i.a.createElement(m.a,{isClearable:!0,className:"basic-single",classNamePrefix:"select",value:n.selectedDistrict,onChange:h,isLoading:n.districtIsLoading,isSearchable:!0,name:"district",isDisabled:null==n.districtsList,placeholder:"Pilih Kecamatan",options:n.districtsList}))),i.a.createElement("div",{className:"col-12"},i.a.createElement("div",{class:"form-group"},i.a.createElement("input",{type:"text",class:"form-control",value:n.keyword,onChange:y,placeholder:"Cari Nama Toko ...",style:{borderRadius:"10px"}})))))))),i.a.createElement("div",{className:E},i.a.createElement("div",{className:"products-view__loader"}),b.length>0?i.a.createElement(i.a.Fragment,null,i.a.createElement("div",{class:"row"},b),i.a.createElement("div",{className:"products-view__pagination"},i.a.createElement(u.a,{white:!0,current:f.page||t.page,siblings:2,total:t.pages,onPageChange:k}))):i.a.createElement("div",{className:"row mt-3"},i.a.createElement("div",{className:"col-12"},i.a.createElement("h3",{className:"text-center"},"Maaf, Toko Tidak Ditemukan")))))};h.defaultPropTypes={isLoading:!0};var y=h,v=a(34);function f(e){const t=o.a.parse(e),a={page:1,limit:10};return"string"===typeof t.page&&(a.page=parseFloat(t.page)),a}function b(e){const t=o.a.parse(e),a={};return Object.keys(t).forEach(e=>{const s=e.match(/^filter_([-_A-Za-z0-9]+)$/);if(!s)return;const i=s[1];a[i]=t[e]}),a}function k(e){const t=o.a.parse(e);let a;return"string"===typeof t.keyword&&(a=t.keyword),a}const E={provinceIsLoading:!0,provincesList:[],selectedProvince:null,cityIsLoading:!1,citiesList:[],selectedCity:null,districtIsLoading:!1,districtsList:[],selectedDistrict:null,filters:{},options:{},storeList:[],storeIsLoading:!0,keyword:null};function w(e,t){switch(t.type){case g.C:return{...e,provinceIsLoading:!0};case g.D:return{...e,provinceIsLoading:!1,provincesList:t.provincesList};case g.I:return{...e,selectedProvince:t.selectedProvince,citiesList:null,districtsList:null,selectedCity:null,selectedDistrict:null,filters:{province:e.filters.province}};case g.c:return{...e,cityIsLoading:!0};case g.d:return{...e,cityIsLoading:!1,citiesList:t.citiesList};case g.G:return{...e,selectedCity:t.selectedCity,selectedDistrict:null,filters:{province:e.filters.province,city:e.filters.city}};case g.o:return{...e,districtIsLoading:!0};case g.p:return{...e,districtIsLoading:!1,districtsList:t.districtsList};case g.H:return{...e,selectedDistrict:t.selectedDistrict};case g.J:return{...e,options:{...e.options,page:1},filters:{...e.filters,[t.filter]:t.value}};case g.E:return{...e,storeIsLoading:!0};case g.F:return{...e,storeIsLoading:!1,storeList:t.storeList};case g.K:return{...e,options:{...e.options,page:1,[t.option]:t.value}};case g.L:return{...e,keyword:t.keyword,options:{...e.options,page:1}};default:throw new Error}}function N(e){const[t,a,s]=[f(i=window.location.search),b(i),k(i)];var i;return{...e,options:t,filters:a,keyword:s}}const L=e=>{const[t,a]=Object(s.useReducer)(w,E,N),{layout:l,doHandleChooseStore:c,customer:d}=e,p=o.a.parse(window.location.search);Object(s.useEffect)(()=>{const e=function(e,t,a){const s={keyword:a};return 1!==e.page&&(s.page=e.page),Object.keys(t).filter(e=>"category"!==e&&!!t[e]).forEach(e=>{s["filter_"+e]=t[e]}),o.a.stringify(s,{encode:!1})}(t.options,t.filters,t.keyword),a=`${window.location.pathname}${e?"?":""}${e}`;window.history.replaceState(null,"",a)},[t.options,t.filters,t.keyword]),Object(s.useEffect)(()=>{p.keyword!==t.keyword&&a({type:g.L,keyword:p.keyword})},[p.keyword]),Object(s.useEffect)(()=>(a({type:g.E}),r.a.getStores(t.options,{...t.filters},t.keyword,d.token).then(e=>{const{data:t}=e;a({type:g.F,storeList:t})}),()=>{}),[t.options,t.filters,t.keyword]),Object(s.useEffect)(()=>{a({type:g.C}),n.getProvince().then(e=>{const{status:s,data:i}=e,n=i.items.map(e=>({value:e.id,label:e.name})),r=n.find(e=>e.value===t.filters.province);200===s.code&&(void 0!==r&&m(r),a({type:g.D,provincesList:n}))})},[t.filters.province]);const m=e=>{null!==e?(a({type:g.I,selectedProvince:e}),a({type:g.J,filter:"province",value:e.value}),a({type:g.c}),n.getCity(e.value).then(e=>{const{status:s,data:i}=e,n=i.items.city.map(e=>({label:e.name,value:e.id})),r=n.find(e=>e.value===t.filters.city);200===s.code&&(void 0!==r&&u(r),a({type:g.d,citiesList:n}))})):(a({type:g.I,selectedProvince:e}),a({type:g.J,filter:"province",value:e}))},u=e=>{null!==e?(a({type:g.G,selectedCity:e}),a({type:g.J,filter:"city",value:e.value}),a({type:g.o}),n.getDistrict(e.value).then(e=>{const{status:s,data:i}=e;if(200===s.code){const e=i.items.district.map(e=>({value:e.id,label:e.name})),s=e.find(e=>e.value===t.filters.district);void 0!==s&&h(s),a({type:g.p,districtsList:e})}})):(a({type:g.G,selectedCity:e}),a({type:g.J,filter:"city",value:e}),a({type:g.p,districtsList:null}))},h=e=>{null!==e?(a({type:g.J,filter:"district",value:e.value}),a({type:g.H,selectedDistrict:e})):(a({type:g.J,filter:"district",value:e}),a({type:g.H,selectedDistrict:e}))};return i.a.createElement("section",{className:"py-4",style:{backgroundColor:"rgb(0,129,199)"}},i.a.createElement("div",{className:"container"},"default"===l&&i.a.createElement("div",{className:"row d-none d-md-none d-lg-block"},i.a.createElement("div",{className:"col-xl-12"},i.a.createElement("div",{className:"card bg-transparent border-0 text-white",style:{borderRadius:"15px"}},i.a.createElement("div",{className:"card-body p-0"},i.a.createElement("h5",{className:"card-title"},"Terdapat Banyak Penyedia"),i.a.createElement("p",{className:"card-text"},"Penyedia adalah subjek dalam rantai pemenuhan keperluan sekolah. Penyedia menyediakan dan melayani sekolah yang melakukan pemesanan pada sistem SIPLah sesuai dengan kebijakan yang berlaku. Penyedia tunduk pada kebijakan produk maupun kebijakan privasi. Total Penyedia berasal dari penyedia yang sudah dinyatakan lengkap persyaratan (proses Approve) menjadi penyedia SIPLah Kemdikbud Eureka.")))),i.a.createElement("div",{className:"col-xl-12 mt-3"},i.a.createElement("div",{className:"card text-white shadow",style:{background:"url(https://siplah.eurekabookhouse.co.id/assets/front/images/banner/banner-mall-page.jpg) no-repeat center center",height:"280px",borderRadius:"15px",border:"none"}},i.a.createElement("div",{className:"card-body "},i.a.createElement("h5",null,"Penyedia Beragam"),i.a.createElement("h3",null,"Berbagai penyedia di seluruh pelosok indonesia"),i.a.createElement("h6",null,"Temukan disekitar anda"))))),i.a.createElement(y,{isLoading:t.storeIsLoading,storeList:t.storeList,state:t,layout:l,doHandleChooseStore:c,options:t.options,doChangeCity:u,doChangeDistrict:h,doChangeProvince:m,dispatch:a,doChangeKeywordValue:e=>{const{value:t}=e.target;a(""!==t?{type:g.L,keyword:t}:{type:g.L,keyword:void 0})}})))};L.defaultPropTypes={layout:"default"};t.default=Object(v.b)(e=>({customer:e.customer}),null)(L)}}]);
//# sourceMappingURL=27.ad68b01b.chunk.js.map