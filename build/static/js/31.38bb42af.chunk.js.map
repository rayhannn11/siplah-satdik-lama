{"version":3,"sources":["components/account/AccountPageLogin.jsx"],"names":["mapDispatchToProps","loginCustomer","addMiniCart","customerAdd","withRouter","connect","props","state","setState","useState","loading","setLoading","React","createElement","Fragment","Helmet","theme","name","className","style","color","href","process","borderRadius","marginTop","marginBottom","background","rel","class"],"mappings":"uHAAA,2GA8GA,MAAMA,EAAqB,CACvBC,kBACAC,gBACAC,iBAEWC,sBAAWC,YAAQ,KAAML,EAAdK,EAlG1B,SAA0BC,GACtB,MAAOC,EAAOC,GAAYC,mBAAS,KAC5BC,EAASC,GAAcF,oBAAS,GAsCvC,OACIG,IAAAC,cAACD,IAAME,SAAQ,KACXF,IAAAC,cAACE,IAAM,KACHH,IAAAC,cAAA,aAAQ,yBAAoBG,IAAMC,OAGtCL,IAAAC,cAAA,OAAKK,UAAU,cACXN,IAAAC,cAAA,OAAKK,UAAU,aACXN,IAAAC,cAAA,OAAKK,UAAU,OACXN,IAAAC,cAAA,OAAKK,UAAU,wBACXN,IAAAC,cAAA,OAAKK,UAAU,4BACXN,IAAAC,cAAA,OAAKK,UAAU,aACXN,IAAAC,cAAA,MAAIK,UAAU,0BAAyB,yBACvCN,IAAAC,cAAA,MAAIK,UAAU,cAAcC,MAAO,CAACC,MAAM,YAAY,4EAKtDR,IAAAC,cAAA,KAEIQ,KAAMC,sMACNH,MAAO,CAACI,aAAc,OAASH,MAAO,QAASI,UAAW,OAAQC,aAAc,OAAQC,WAAY,kBACpGR,UAAU,uBACVS,IAAI,uBAEJf,IAAAC,cAAA,KAAGe,MAAM,uBAAyB,yBAEtChB,IAAAC,cAAA,MAAIK,UAAU,aAAY,SAC1BN,IAAAC,cAAA,KACIQ,KAAMC,iDACNH,MAAO,CAACI,aAAc,OAASH,MAAO,QAASI,UAAW,OAAQC,aAAc,OAAQC,WAAY,WACpGR,UAAU,wBACVS,IAAI,uBAEJf,IAAAC,cAAA,KAAGe,MAAM,uBAAyB,2BAEtChB,IAAAC,cAAA,KACIQ,KAAMC,+DACNH,MAAO,CAACI,aAAc,OAASH,MAAO,QAASI,UAAW,OAAQC,aAAc,QAChFP,UAAU,kCACVS,IAAI,uBAEJf,IAAAC,cAAA,KAAGe,MAAM,uBAAyB","file":"static/js/31.38bb42af.chunk.js","sourcesContent":["// react\nimport React, { useState } from \"react\";\n\n// third-party\nimport { Helmet } from \"react-helmet-async\";\nimport { withRouter } from \"react-router-dom\";\nimport classNames from \"classnames\";\n\n// data stubs\nimport theme from \"../../data/theme\";\nimport customerApi from \"../../api/customer\";\nimport { loginCustomer } from \"../../store/auth\";\nimport { customerAdd } from \"../../store/customer\";\nimport { addMiniCart } from \"../../store/mini-cart\";\nimport { toast } from \"react-toastify\";\nimport { connect } from \"react-redux\";\n\nfunction AccountPageLogin(props) {\n    const [state, setState] = useState({});\n    const [loading, setLoading] = useState(false);\n\n    const doHandleChange = (e) => {\n        const { value, name } = e.target;\n        setState({ ...state, [name]: value });\n    };\n    const doLogin = (e) => {\n        if (e !== undefined) {\n            e.preventDefault();\n        }\n        setLoading(true);\n        return new Promise((resolve) => {\n            customerApi.login(state).then((res) => {\n                const { data, status } = res;\n                const token = data;\n                if (status.code === 200) {\n                    customerApi.getMiniCart(token).then((res) => {\n                        const { data } = res;\n                        props.addMiniCart(data);\n                    });\n\n                    customerApi.getCustomer(token).then((res) => {\n                        const { data } = res;\n                        props.customerAdd({ ...data, token });\n                        props.loginCustomer(true);\n                        toast.success(\"Login Berhasil\");\n                        setLoading(false);\n                        props.history.push(\"/account/dashboard\");\n                    });\n                } else {\n                    setLoading(false);\n                    toast.error(\"Login Gagal\", { toastId: \"logout\" });\n                }\n                resolve();\n            });\n        });\n    };\n\n    return (\n        <React.Fragment>\n            <Helmet>\n                <title>{`Login Customer â€” ${theme.name}`}</title>\n            </Helmet>\n\n            <div className=\"block mt-4\">\n                <div className=\"container\">\n                    <div className=\"row\">\n                        <div className=\"col-md-8 offset-md-2\">\n                            <div className=\"card flex-grow-1 mb-md-0\">\n                                <div className=\"card-body\">\n                                    <h5 className=\"card-title text-center\">Masuk untuk berbelanja\n                                    <h6 className=\"text-center\" style={{color:'#0A6BB2'}}>Kepala Sekolah dan Bendahara BOS silakan login menggunakan akun Dapodik</h6>\n                                    </h5> \n                                    {/* NEW LOGIN SDS */}\n                                    \n                                      \n                                    <a\n                                        // href='https://sds-sso.belajar.id/login/oauth/authorize?client_id=b7595b8daee1e3abc8a2&response_type=code&redirect_uri=https://siplah.eurekabookhouse.co.id/api/sds-eureka-pro&scope=read&state=y6lwrvg38w'\n                                        href={process.env.REACT_APP_URL_LOGINSDS}\n                                        style={{borderRadius: '10px',  color: 'white', marginTop: '10px', marginBottom: '10px', background: 'rgb(255,98,33)'}} \n                                        className=\"btn btn-block btn-lg\"\n                                        rel=\"noopener noreferrer\"\n                                    >\n                                        <i class=\"fas fa-sign-in-alt\"></i> Akun sebagai Pembeli\n                                    </a> \n                                    <h6 className=\"text-line\">atau </h6> \n                                    <a\n                                        href={process.env.REACT_APP_URL_SELLER}\n                                        style={{borderRadius: '10px',  color: 'white', marginTop: '10px', marginBottom: '10px', background: '#0A6BB2'}} \n                                        className=\"btn  btn-block btn-lg\"\n                                        rel=\"noopener noreferrer\"\n                                    >\n                                        <i class=\"fas fa-sign-in-alt\"></i> Akun Penjual di SIPLah\n                                    </a> \n                                    <a\n                                        href={process.env.REACT_APP_URL_PENGAWAS}\n                                        style={{borderRadius: '10px',  color: 'white', marginTop: '10px', marginBottom: '10px' }} \n                                        className=\"btn btn-danger btn-block btn-lg\"\n                                        rel=\"noopener noreferrer\"\n                                    >\n                                        <i class=\"fas fa-sign-in-alt\"></i> Akun Pengawas SIPLah\n                                    </a>\n                                </div>\n                            </div>\n                        </div>\n                    </div>\n                </div>\n            </div>\n        </React.Fragment>\n    );\n}\nconst mapDispatchToProps = {\n    loginCustomer,\n    addMiniCart,\n    customerAdd,\n};\nexport default withRouter(connect(null, mapDispatchToProps)(AccountPageLogin));\n"],"sourceRoot":""}