(this["webpackJsonpsiplah.eureka"]=this["webpackJsonpsiplah.eureka"]||[]).push([[7],{172:function(e,t,a){"use strict";var l=a(1);class n extends l.Component{constructor(e){super(e),this.canceled=!1,this.run=()=>{const{action:e}=this.props,{loading:t}=this.state;!t&&e&&(this.setState({loading:!0}),e().then(()=>{this.canceled||this.setState({loading:!1})}))},this.state={loading:!1}}componentWillUnmount(){this.canceled=!0}render(){const{render:e}=this.props,{loading:t}=this.state;return e?e({run:this.run,loading:t}):null}}t.a=n},179:function(e,t,a){"use strict";var l=a(1),n=a.n(l),o=a(34),i=a.n(o),s=a(169);function r(e){const{value:t}=e,a=[1,2,3,4,5].map(e=>{const a=i()("rating__star",{"rating__star--active":t>=e});return n.a.createElement(s.v,{key:e,className:a})});return n.a.createElement("div",{className:"rating"},n.a.createElement("div",{className:"rating__body"},a))}r.defaultProps={value:0},t.a=r},180:function(e,t,a){"use strict";var l=a(1),n=a.n(l);t.a=()=>n.a.createElement("div",{className:"d-flex justify-content-center align-items-center flex-column",style:{position:"fixed",background:"white",left:0,top:0,zIndex:9999,width:"100%",height:"100%"}},n.a.createElement("iframe",{title:"loading",height:"600",width:"400",style:{marginTop:"-10px"},src:"images/avatars/6230-loading-37-brochure.gif",frameBorder:0}),n.a.createElement("h5",{style:{marginTop:"-300px",zIndex:99}},"Permintaan sedang diproses"),n.a.createElement("h5",{style:{marginTop:"1px",zIndex:99}},"Mohon tunggu beberapa saat . . ."))},181:function(e,t,a){"use strict";var l=a(188),n=a(189),o=a(190);t.a={en:{messages:l,direction:"ltr"},ru:{messages:n,direction:"ltr"},ar:{messages:o,direction:"rtl"}}},183:function(e,t,a){"use strict";var l=a(177),n=a(1),o=a.n(n),i=a(34),s=a.n(i),r=a(210),c=a.n(r),d=a(40),m=a(181);const u=["children","forwardRef","locale","beforeChange"];class p extends n.Component{constructor(e){super(e),this.unsubscribeMedias=()=>{},this.originalSlickNext=()=>{},this.originalSlickPrev=()=>{},this.setRef=e=>{this.element=e},this.onMousedown=e=>{const t=e.screenX,a=e.screenY,l=e=>{const{preventClick:l}=this.state;if(l)return;const n=Math.sqrt(Math.abs(t-e.screenX)**2+Math.abs(a-e.screenY)**2);e.cancelable&&n>3&&e.preventDefault(),n>15&&this.setState({preventClick:!0})},n=()=>{this.setState({preventClick:!1}),document.removeEventListener("mousemove",l),document.removeEventListener("mouseup",n)};document.addEventListener("mousemove",l),document.addEventListener("mouseup",n)},this.beforeChange=(e,t)=>{const{beforeChange:a}=this.props;a&&a(e,t),setTimeout(()=>{this.setState({activeSlides:this.getActiveSlides(t)})},0)},this.setSlickRef=e=>{const{forwardRef:t}=this.props;t&&t(e),e&&e!==this.slickRef&&(this.originalSlickNext=e.slickNext,this.originalSlickPrev=e.slickPrev,e.slickNext=this.slickNext,e.slickPrev=this.slickPrev),this.slickRef=e},this.slickNext=()=>{const{locale:e}=this.props,{direction:t}=m.a[e];"rtl"===t?this.originalSlickPrev():this.originalSlickNext()},this.slickPrev=()=>{const{locale:e}=this.props,{direction:t}=m.a[e];"rtl"===t?this.originalSlickNext():this.originalSlickPrev()},this.state={preventClick:!1,activeSlides:this.getActiveSlides(this.getStartPosition()),slidesToShow:this.getSlidesToShow()}}componentDidMount(){this.element&&(this.element.addEventListener("mousedown",this.onMousedown),this.slickRef&&this.slickRef.slickGoTo(this.getStartPosition(),!0),this.createMedias())}componentDidUpdate(e){const{locale:t,children:a}=e,{direction:l}=m.a[t],{locale:n,children:o}=this.props,{direction:i}=m.a[n];i!==l&&this.slickRef&&this.slickRef.slickGoTo(this.getStartPosition(),!0),o!==a&&setTimeout(()=>{this.setState({activeSlides:this.getActiveSlides(this.getStartPosition())})},0);const{responsive:s}=e,{responsive:r}=this.props;r!==s&&(this.unsubscribeMedias(),this.createMedias())}componentWillUnmount(){this.unsubscribeMedias(),this.element&&this.element.removeEventListener("mousedown",this.onMousedown)}getSlidesCount(){const{children:e}=this.props;return o.a.Children.toArray(e).length}getStartPosition(){let{infinite:e}=this.props;const{locale:t}=this.props,{direction:a}=m.a[t];if(e=!0===e||void 0===e,"ltr"===a)return 0;const l=this.getSlidesToShow(),n=this.getSlidesCount();return e?(Math.ceil(n/l)-1)*l:Math.max(0,n-l)}getActiveSlides(e){const t=this.getSlidesToShow(),a=[],l=this.getSlidesCount(),n=Math.max(0,Math.min(l-t,e)),o=Math.min(l,n+t);for(let i=n;i<o;i+=1)a.push(i);return a}getSlidesToShow(){const{responsive:e,slidesToShow:t}=this.props;let a=t||1;return e&&e.forEach(e=>{const{matches:t}=matchMedia("(max-width: ".concat(e.breakpoint,"px)"));t&&e.settings.slidesToShow&&(a=e.settings.slidesToShow)}),a}createMedias(){const{responsive:e,slidesToShow:t}=this.props;if(e&&e.length>0){const a=[],l=(e,t)=>{const l=matchMedia(e),n=()=>{const{matches:e}=l;e&&t&&this.setState(()=>({slidesToShow:t}))};l.addEventListener?l.addEventListener("change",n):l.addListener(n),a.push(()=>{l.removeEventListener?l.removeEventListener("change",n):l.removeListener(n)})};l("(min-width: ".concat(e[0].breakpoint,".02px)"),t||1),e.forEach((t,a)=>{const n=["(max-width: ".concat(t.breakpoint,"px)")];e.length-1!==a&&n.push("(min-width: ".concat(e[a+1].breakpoint,".02px)")),l(n.join(" and "),t.settings.slidesToShow)}),this.unsubscribeMedias=()=>{a.forEach(e=>e())}}}render(){const e=this.props,{children:t,forwardRef:a,locale:n,beforeChange:i}=e,r=Object(l.a)(e,u),{preventClick:d,activeSlides:p,slidesToShow:h}=this.state,{direction:v}=m.a[n],g=s()("slick-prevent-click",{"slick-prevent-click--active":d});let b=o.a.Children.toArray(t);return"rtl"===v&&(b=t.slice(0),b.reverse()),b=b.map((e,t)=>{const a=s()({"correct-slick-active":p.includes(t)});return o.a.createElement("div",{key:t,dir:v,className:a},e)}),o.a.createElement("div",{className:g,onMouseDown:this.onMousedown,ref:this.setRef},o.a.createElement(c.a,Object.assign({},r,{rtl:"rtl"===v,beforeChange:this.beforeChange,infinite:r.infinite&&o.a.Children.count(t)>h,ref:this.setSlickRef}),b))}}const h=Object(d.b)(e=>({locale:e.locale}))(p);t.a=o.a.forwardRef((e,t)=>o.a.createElement(h,Object.assign({forwardRef:t},e)))},188:function(e){e.exports=JSON.parse('{"topbar.aboutUs":"About Us","topbar.contacts":"Contacts","topbar.storeLocation":"Store Location","topbar.trackOrder":"Track Order","topbar.blog":"Blog","topbar.myAccount":"My Account","topbar.currency":"Currency","topbar.language":"Language","topbar.whatsApp":"Whatsapp","header.phoneLabel":"Customer Service","header.phone":"(800) 060-0730"}')},189:function(e){e.exports=JSON.parse('{"topbar.aboutUs":"\u041e \u043d\u0430\u0441","topbar.contacts":"\u041a\u043e\u043d\u0442\u0430\u043a\u0442\u044b","topbar.storeLocation":"\u041c\u0430\u0433\u0430\u0437\u0438\u043d","topbar.trackOrder":"\u0421\u0442\u0430\u0442\u0443\u0441 \u0437\u0430\u043a\u0430\u0437\u0430","topbar.blog":"\u0411\u043b\u043e\u0433","topbar.myAccount":"\u0410\u043a\u043a\u0430\u0443\u043d\u0442","topbar.currency":"\u0412\u0430\u043b\u044e\u0442\u0430","topbar.language":"\u042f\u0437\u044b\u043a","header.phoneLabel":"\u0417\u0432\u043e\u043d\u043e\u043a \u0431\u0435\u0441\u043f\u043b\u0430\u0442\u043d\u044b\u0439","header.phone":"(800) 060-0730"}')},190:function(e){e.exports=JSON.parse('{"topbar.aboutUs":"About Us","topbar.contacts":"Contacts","topbar.storeLocation":"Store Location","topbar.trackOrder":"Track Order","topbar.blog":"Blog","topbar.myAccount":"My Account","topbar.currency":"Currency","topbar.language":"Language","header.phoneLabel":"Customer Service","header.phone":"(800) 060-0730"}')},195:function(e,t,a){"use strict";var l=a(177),n=a(1),o=a.n(n),i=a(34),s=a.n(i);const r=["size","className","onChange"];class c extends n.Component{constructor(){super(...arguments),this.handleChange=e=>{const{min:t,onChange:a}=this.props;if(a)if(""===e.target.value.trim())a("");else{const l=parseFloat(e.target.value);a(Number.isNaN(l)?t||0:l)}},this.handleAddMouseDown=()=>{this.change(1),this.changeByTimer(1)},this.handleSubMouseDown=()=>{this.change(-1),this.changeByTimer(-1)}}change(e){const{value:t,step:a,max:l,min:n,onChange:o}=this.props;let i=(""===t||Number.isNaN(t)?0:t)+a*e;null!==l&&(i=Math.min(l,i)),null!==n&&(i=Math.max(n,i)),i!==t&&o&&o(i)}changeByTimer(e){let t;const a=setTimeout(()=>{t=setInterval(()=>this.change(e),50)},300),l=()=>{clearTimeout(a),clearInterval(t),document.removeEventListener("mouseup",l,!1)};document.addEventListener("mouseup",l,!1)}render(){const e=this.props,{size:t,className:a,onChange:n}=e,i=Object(l.a)(e,r),c=s()("input-number",a),d=s()("form-control input-number__input",{"form-control-sm":"sm"===t,"form-control-lg":"lg"===t});return o.a.createElement("div",{className:c},o.a.createElement("input",Object.assign({className:d,type:"number",onChange:this.handleChange},i)),o.a.createElement("div",{className:"input-number__add",onMouseDown:this.handleAddMouseDown}),o.a.createElement("div",{className:"input-number__sub",onMouseDown:this.handleSubMouseDown}))}}c.defaultProps={value:"",step:1,max:null,min:null},t.a=c},196:function(e,t,a){"use strict";var l=a(4),n=a(1),o=a.n(n),i=a(276),s=a(309),r=a(245),c=a(197),d=a(54),m=a(18),u=a(23),p=a(172),h=a(34),v=a.n(h),g=a(180),b=a(10),E=a(40);const N=e=>{var t,a,h,b,E,N,f,y,k,w,S,x,C,_,P,T;const{open:O,toggle:j,product:M,zone:R,token:L,forAct:D,doHandleFetchCompareList:F,agree:I}=e,[A,q]=Object(n.useState)([]),[B,z]=Object(n.useState)({qty:null!==(t=M.qty)&&void 0!==t?t:0,qtyError:!1}),[G,U]=Object(n.useState)({floatValue:0}),[H,J]=Object(n.useState)(!1),K=e=>{const{name:t,value:a}=e.target;let n=a;if("qty"===t){var o;n=n.replaceAll(/[//A-Za-z.,-]/g,""),n=n.replaceAll(/^0+/g,"");const e=null===M||void 0===M||null===(o=M.price)||void 0===o?void 0:o.grosir;if(e&&e.length>0){const t=parseInt(e[0].min,10),a=parseInt(n,10);return!isNaN(a)&&a>t?void z(e=>Object(l.a)(Object(l.a)({},e),{},{qty:"0",qtyError:!0})):void z(e=>Object(l.a)(Object(l.a)({},e),{},{qty:n,qtyError:!1}))}}z(Object(l.a)(Object(l.a)({},B),{},{[t]:n}))};Object(n.useEffect)(()=>{var e;(null===M||void 0===M||null===(e=M.mall)||void 0===e?void 0:e.slug)&&L&&d.a.getConfigNego(M.mall.slug,L).then(e=>{console.log(e.data,"config nego"),q(e.data)})},[null===M||void 0===M||null===(a=M.mall)||void 0===a?void 0:a.slug,L]),Object(n.useEffect)(()=>{if(A.length>0){const e=A.reduce((e,t)=>{var a;return(null===(a=t.items)||void 0===a?void 0:a.length)>0&&(e[t.value]=t.items[0].value),e},{});z(t=>Object(l.a)(Object(l.a)({},t),e))}},[A]);const V=e=>!!Object.keys({productId:913133,mallId:1579,qty:2,priceNego:5e4,courier:"jne",wrapping:"Kardus dan Plastik"}).every(t=>Object.keys(e).includes(t))&&(0!==e.qty&&0!==e.priceNego&&""!==e.courier&&""!==e.wrapping&&""!==e.insurance),W=!(null===M||void 0===M||null===(h=M.ppn)||void 0===h?void 0:h.ppnPrice)||0===Number(null===M||void 0===M||null===(b=M.ppn)||void 0===b?void 0:b.ppnPrice),Z=(null===M||void 0===M||null===(E=M.price)||void 0===E||null===(N=E.zone)||void 0===N?void 0:N.length)>0&&""!==R?null===M||void 0===M||null===(f=M.price)||void 0===f||null===(y=f.zone[R-1])||void 0===y?void 0:y.priceCurrencyFormat:(null===M||void 0===M||null===(k=M.price)||void 0===k?void 0:k.primaryCurrencyFormat)||(null===M||void 0===M?void 0:M.priceCurrencyFormat);return H?o.a.createElement(g.a,null):(console.log(B.qty),console.log(B,"state"),console.log(A,"config"),o.a.createElement(o.a.Fragment,null,o.a.createElement(i.a,{isOpen:O,toggle:()=>j(!1),centered:!0,size:"xl"},o.a.createElement(s.a,{toggle:()=>j(!1)},"Negosiasi"),o.a.createElement(r.a,null,o.a.createElement("div",{className:"row justify-content-center align-items-center mb-3"},o.a.createElement("div",{className:"col-md-2"},o.a.createElement("img",{src:void 0===(null===M||void 0===M?void 0:M.images)?null===M||void 0===M?void 0:M.image:null===M||void 0===M||null===(w=M.images)||void 0===w?void 0:w[0],alt:"",style:{width:"100%",height:"200px",objectFit:"contain"}})),o.a.createElement("div",{className:"col-md-6"},o.a.createElement("h4",{style:{overflow:"hidden",textOverflow:"ellipsis",wordBreak:"break-all",whiteSpace:"nowrap",marginBottom:"0"}},null===M||void 0===M?void 0:M.name),o.a.createElement("h5",{className:"text-muted",style:{marginTop:10,color:"#0e336d"}},Z),W?o.a.createElement("div",{className:"tax-exempt-info",style:{marginTop:"5px",fontSize:"14px"}},o.a.createElement("div",{className:"mb-1"},o.a.createElement("strong",null,"Harga:")," ",Z),o.a.createElement("div",{className:"mb-1",style:{color:"#28a745"}},o.a.createElement("strong",null,"Keterangan:")," Bebas Pajak"),o.a.createElement("div",{className:"mb-1"},o.a.createElement("strong",null,"DPP Nilai Lain:")," Rp 0"),o.a.createElement("div",{className:"mb-1"},o.a.createElement("strong",null,"PPN 12%:")," Rp 0"),o.a.createElement("div",{className:"mb-1"},o.a.createElement("strong",null,"DPP PPh:")," ",Z)):o.a.createElement("ul",{className:"product__meta mb-4 d-block",style:{color:"#000"}},o.a.createElement("li",null,o.a.createElement("dl",{className:"d-flex mb-0"},o.a.createElement("dt",{style:{width:"100px"}},"Dpp Pph"),o.a.createElement("dd",{className:"mb-0"},":"),o.a.createElement("dd",{className:"mb-0 ml-1"},"Rp",Number(null===M||void 0===M||null===(S=M.ppn)||void 0===S?void 0:S.dpp).toLocaleString().replaceAll(",",".")||0))),o.a.createElement("li",null,o.a.createElement("dl",{className:"d-flex mb-0"},o.a.createElement("dt",{style:{width:"100px"}},"Dpp Nilai Lain"),o.a.createElement("dd",{className:"mb-0"},":"),o.a.createElement("dd",{className:"mb-0 ml-1"},"Rp",Math.ceil(11/12*Number(null===M||void 0===M||null===(x=M.ppn)||void 0===x?void 0:x.dpp)).toLocaleString("id-ID")))),o.a.createElement("li",null,o.a.createElement("dl",{className:"d-flex mb-0"},o.a.createElement("dt",{style:{width:"100px"}},"Ppn 12%"),o.a.createElement("dd",{className:"mb-0"},":"),o.a.createElement("dd",{className:"mb-0 ml-1"},"Rp",Number(null===M||void 0===M||null===(C=M.ppn)||void 0===C?void 0:C.ppnPrice).toLocaleString().replaceAll(",",".")||0))),o.a.createElement("small",null,"*PPN yang dikenakan telah menggunakan perhitungan terbaru sesuai dengan"," ",o.a.createElement("a",{target:"_blank",href:"https://jdih.kemenkeu.go.id/api/download/ad276b82-94bd-4197-b409-af33e2842cd6/2024pmkeuangan131.pdf"},"PMK No. 131 Tahun 2024"),"*")))),o.a.createElement("form",null,o.a.createElement("div",{className:"row"},o.a.createElement("div",{className:"col-md-6"},o.a.createElement("label",null,"Masukan Harga Nego"),o.a.createElement("div",{className:"input-group"},o.a.createElement(c.a,{name:"negoPrice",value:G.floatValue,onValueChange:e=>e.floatValue>0?U(e):U(G),prefix:"Rp",thousandSeparator:!0,className:"form-control"}),o.a.createElement("div",{className:"input-group-prepend"},o.a.createElement("span",{className:"input-group-text",id:"inputGroupPrepend3"},"1 Pcs")))),o.a.createElement("div",{className:"col-md-6"},o.a.createElement("div",{className:"form-group"},o.a.createElement("label",{htmlFor:""},"Masukkan Jumlah Barang:"),o.a.createElement("input",{type:"text",name:"qty",value:B.qty,className:"form-control",placeholder:"",onChange:K}),B.qtyError&&o.a.createElement("small",{className:"text-danger"},"Jumlah barang tidak boleh lebih dari minimum grosir (",(null===M||void 0===M||null===(_=M.price)||void 0===_||null===(P=_.grosir)||void 0===P||null===(T=P[0])||void 0===T?void 0:T.min)||0,")"))),(null===A||void 0===A?void 0:A.length)>0&&A.map(e=>{var t,a;return o.a.createElement("div",{className:"col-md-6",key:null===e||void 0===e?void 0:e.value},o.a.createElement("div",{className:"form-group"},o.a.createElement("label",{htmlFor:null===e||void 0===e?void 0:e.value},null===e||void 0===e?void 0:e.name),o.a.createElement("select",{required:!0,className:"form-control",name:null===e||void 0===e?void 0:e.value,id:null===e||void 0===e?void 0:e.value,value:null!==(t=B[null===e||void 0===e?void 0:e.value])&&void 0!==t?t:Array.isArray(null===e||void 0===e?void 0:e.items)&&e.items.length>0?e.items[0].value:"",onChange:t=>{const a=t.target.value;z(t=>Object(l.a)(Object(l.a)({},t),{},{[e.value]:a}))}},null===e||void 0===e||null===(a=e.items)||void 0===a?void 0:a.map(e=>o.a.createElement("option",{key:null===e||void 0===e?void 0:e.value,value:null===e||void 0===e?void 0:e.value},null===e||void 0===e?void 0:e.name)))))}),o.a.createElement("div",{className:"col-12"},o.a.createElement("div",{className:"form-group"},o.a.createElement("label",{htmlFor:""},"Catatan"),o.a.createElement("textarea",{className:"form-control",name:"otherSpec",onChange:K,id:"",rows:"3",placeholder:"Catatan ....."})),o.a.createElement("div",{className:"form-group"},o.a.createElement("label",{htmlFor:""},"Total Harga Nego:"),o.a.createElement(c.a,{disabled:!0,thousandSeparator:!0,prefix:"Rp",value:G.floatValue*B.qty,className:"form-control"})),o.a.createElement("div",{className:"form-group"},o.a.createElement(p.a,{action:()=>{var t,a;let n=null===M||void 0===M?void 0:M.id,o=null!==(t=null===G||void 0===G?void 0:G.floatValue)&&void 0!==t?t:0;const i=function(e){const t=Math.round(100*(e+Number.EPSILON))/100;return Math.floor(t)}(o/1.11),s=(r=11/12*(o/1.11),Math.floor(r+1e-5));var r;const c=Math.ceil(o/1.11*(11/12)*.12);let d=Object(l.a)(Object(l.a)({},B),{},{productId:n,mallId:null===M||void 0===M||null===(a=M.mall)||void 0===a?void 0:a.id,priceNego:o,dpp:i,dppNilaiLain:s,ppn:c});return console.log(d,"payload"),"compare"===D&&(d.productId=null===M||void 0===M?void 0:M.productId,d.isCompare=I,d.qty=null===M||void 0===M?void 0:M.qty),J(!0),V(d)?new Promise(t=>{m.a.addNegotiation(d,L).then(a=>{const{data:l}=a;"compare"===D&&m.a.deleteProductCompare(null===M||void 0===M?void 0:M.productId,L).then(e=>{F()}),200===Number(a.status.code)?(u.b.success("Negosiasi telah dikirim"),e.history.push("/account/negotiation/".concat(l)),J(!1),j(),t()):(u.b.error(a.status.message),J(!1),j(),t())})}):new Promise(e=>setTimeout(()=>{J(!1),u.b.error("Negosiasi gagal dikirim, Silahkan isi semua data"),e()},500))},render:e=>{let{run:t,loading:a}=e;return o.a.createElement("button",{type:"button",onClick:t,className:v()("btn btn-primary btn-block btn-lg",{"btn-loading":a})},"Kirim Negosiasi")}})))))))))};N.defaultProps={open:!1};t.a=Object(b.j)(Object(E.b)(e=>({customer:e.customer}),null)(N))},277:function(e,t,a){"use strict";var l=a(1),n=a.n(l),o=a(34),i=a.n(o),s=a(40),r=a(39),c=a(10),d=a(172),m=a(195),u=a(181),p=a(183),h=a(169);const v={dots:!1,arrows:!1,infinite:!1,speed:400,slidesToShow:1,slidesToScroll:1},g={standard:{dots:!1,arrows:!1,infinite:!1,speed:400,slidesToShow:5,slidesToScroll:1,responsive:[{breakpoint:1199,settings:{slidesToShow:4}},{breakpoint:991,settings:{slidesToShow:3}},{breakpoint:767,settings:{slidesToShow:5}},{breakpoint:479,settings:{slidesToShow:4}},{breakpoint:379,settings:{slidesToShow:3}}]},sidebar:{dots:!1,arrows:!1,infinite:!1,speed:400,slidesToShow:4,slidesToScroll:1,responsive:[{breakpoint:1199,settings:{slidesToShow:3}},{breakpoint:767,settings:{slidesToShow:5}},{breakpoint:479,settings:{slidesToShow:4}},{breakpoint:379,settings:{slidesToShow:3}}]},columnar:{dots:!1,arrows:!1,infinite:!1,speed:400,slidesToShow:4,slidesToScroll:1,responsive:[{breakpoint:1199,settings:{slidesToShow:3}},{breakpoint:767,settings:{slidesToShow:5}},{breakpoint:479,settings:{slidesToShow:4}},{breakpoint:379,settings:{slidesToShow:3}}]},quickview:{dots:!1,arrows:!1,infinite:!1,speed:400,slidesToShow:5,slidesToScroll:1,responsive:[{breakpoint:1199,settings:{slidesToShow:4}},{breakpoint:767,settings:{slidesToShow:5}},{breakpoint:479,settings:{slidesToShow:4}},{breakpoint:379,settings:{slidesToShow:3}}]}};class b extends l.Component{constructor(e){super(e),this.createGallery=null,this.imagesRefs=[],this.unmounted=!1,this.handleFeaturedClick=(e,t)=>{const{layout:a}=this.props;this.createGallery&&"quickview"!==a&&(e.preventDefault(),this.openPhotoswipe(t))},this.handleThumbnailClick=e=>{const{transition:t}=this.state;t||(this.setState(()=>({currentIndex:e})),this.slickFeaturedRef&&this.slickFeaturedRef.slickGoTo(this.getIndexDependOnDir(e)))},this.handleFeaturedBeforeChange=(e,t)=>{this.setState(()=>({currentIndex:this.getIndexDependOnDir(t),transition:!0}))},this.handleFeaturedAfterChange=e=>{this.setState(()=>({currentIndex:this.getIndexDependOnDir(e),transition:!1}))},this.handleZoomButtonClick=()=>{const{currentIndex:e}=this.state;this.openPhotoswipe(e)},this.setSlickFeaturedRef=e=>{this.slickFeaturedRef=e},this.state={currentIndex:0,transition:!1}}componentDidMount(){this.createGallery=Promise.all([a.e(9),a.e(10)]).then(a.bind(null,403)).then(e=>e.createGallery),setTimeout(()=>{this.setState(()=>({transition:!1}))},0)}componentDidUpdate(e){const{locale:t}=e,{direction:a}=u.a[t],{locale:l}=this.props,{direction:n}=u.a[l];n!==a&&setTimeout(()=>{this.setState(()=>({transition:!1}))},0)}componentWillUnmount(){this.gallery&&this.gallery.destroy(),this.unmounted=!0}getIndexDependOnDir(e){const{images:t,locale:a}=this.props,{direction:l}=u.a[a];return"rtl"===l?t.length-1-e:e}openPhotoswipe(e){const{images:t,locale:a}=this.props,{direction:l}=u.a[a],n=this.imagesRefs.map((e,a)=>{const l=parseFloat(e.dataset.width)||e.naturalWidth,n=parseFloat(e.dataset.height)||e.naturalHeight;return{src:t[a],msrc:t[a],w:l,h:n}});"rtl"===l&&n.reverse();const o={getThumbBoundsFn:e=>{const t=this.getIndexDependOnDir(e);if(!this.imagesRefs[t])return null;const a=this.imagesRefs[t],l=a.naturalWidth,n=a.naturalHeight,o=a.getBoundingClientRect(),i=Math.min(o.width/l,o.height/n),s=l*i,r=n*i;return{x:o.left+(o.width-s)/2+window.pageXOffset,y:o.top+(o.height-r)/2+window.pageYOffset,w:s}},index:this.getIndexDependOnDir(e),bgOpacity:.9,history:!1};this.createGallery.then(e=>{this.unmounted||(this.gallery=e(n,o),this.gallery.listen("beforeChange",()=>{this.gallery&&this.slickFeaturedRef&&this.slickFeaturedRef.slickGoTo(this.gallery.getCurrentIndex(),!0)}),this.gallery.listen("destroy",()=>{this.gallery=null}),this.gallery.init())})}render(){const{layout:e,images:t}=this.props,{currentIndex:a}=this.state,l=t.map((e,t)=>n.a.createElement("div",{key:t,className:"product-image product-image--location--gallery"},n.a.createElement("a",{rel:"noopener noreferrer",href:"".concat(e),className:"product-image__body",onClick:e=>this.handleFeaturedClick(e,t),target:"_blank"},n.a.createElement("img",{className:"product-image__img",src:e,alt:"",ref:e=>{this.imagesRefs[t]=e}})))),o=t.map((e,t)=>{const l=i()("product-gallery__carousel-item product-image",{"product-gallery__carousel-item--active":t===a});return n.a.createElement("button",{type:"button",key:t,onClick:()=>this.handleThumbnailClick(t),className:l},n.a.createElement("div",{className:"product-image__body"},n.a.createElement("img",{className:"product-image__img product-gallery__carousel-image",src:e,alt:""})))});return n.a.createElement("div",{className:"product__gallery"},n.a.createElement("div",{className:"product-gallery"},n.a.createElement("div",{className:"product-gallery__featured"},"quickview"!==e&&n.a.createElement("button",{type:"button",className:"product-gallery__zoom",onClick:this.handleZoomButtonClick},n.a.createElement(h.x,null)),n.a.createElement(p.a,Object.assign({ref:this.setSlickFeaturedRef},v,{beforeChange:this.handleFeaturedBeforeChange,afterChange:this.handleFeaturedAfterChange}),l)),n.a.createElement("div",{className:"product-gallery__carousel"},n.a.createElement(p.a,g[e],o))))}}b.defaultProps={images:[],layout:"standard"};var E=Object(s.b)(e=>({locale:e.locale}))(b),N=a(179),f=a(64),y=a(196);class k extends l.Component{constructor(e){super(e),this.handleChangeQuantity=e=>{this.setState({quantity:e})},this.handleOpenNego=e=>{this.setState({openNego:e})},this.handleAddCart=e=>{const{product:t,cartAddItem:a,customer:l}=this.props;return void 0!==(null===l||void 0===l?void 0:l.token)&&""!==(null===l||void 0===l?void 0:l.token)?a(t,null===l||void 0===l?void 0:l.token,e):new Promise(e=>{this.props.history.push("/login"),e()})},this.state={quantity:1,openNego:!1}}render(){var e,t,a,l,o,s,c,u,p,h,v,g,b,f,k,w,S,x,C,_,P,T,O,j,M,R,L,D,F;const{layout:I,customer:A,product:q,auth:B}=this.props;let z="";z=null!==(e=null===A||void 0===A||null===(t=A.school)||void 0===t||null===(a=t.location)||void 0===a?void 0:a.zone)&&void 0!==e?e:null;const{quantity:G}=this.state,U=!(null===q||void 0===q||null===(l=q.ppn)||void 0===l?void 0:l.ppnPrice)||0===Number(null===q||void 0===q||null===(o=q.ppn)||void 0===o?void 0:o.ppnPrice);let H;var J,K,V,W,Z,Q,X,Y;if(console.log(q,"detail product"),(null===q||void 0===q||null===(s=q.price)||void 0===s||null===(c=s.zone)||void 0===c?void 0:c.length)>0)H=n.a.createElement(n.a.Fragment,null,n.a.createElement("h6",{className:"mt-3 text-center"},Object.keys(A).length>0?" Sekolah anda berada di zona ".concat(z):"Silahkan login untuk melihat zona sekolah anda"),n.a.createElement("table",{className:"table table-responsive text-center"},n.a.createElement("thead",null,n.a.createElement("tr",null,null===q||void 0===q||null===(J=q.price)||void 0===J||null===(K=J.zone)||void 0===K?void 0:K.map((e,t)=>n.a.createElement("td",{className:"".concat(Number(z)===t+1&&"text-success font-weight-bold")},"Zona ",t+1)))),n.a.createElement("tbody",null,n.a.createElement("tr",null,null===q||void 0===q||null===(V=q.price)||void 0===V||null===(W=V.zone)||void 0===W?void 0:W.map((e,t)=>n.a.createElement("td",{className:"".concat(Number(z)===t+1&&"text-success font-weight-bold")},e.priceCurrencyFormat))))),(null===q||void 0===q||null===(Z=q.price)||void 0===Z||null===(Q=Z.grosir)||void 0===Q?void 0:Q.length)>0&&n.a.createElement("div",{className:"row"},n.a.createElement("div",{className:"col-md-12",style:{marginBottom:"-17px"}},n.a.createElement("p",null,"Harga Grosir : ")),null===q||void 0===q||null===(X=q.price)||void 0===X||null===(Y=X.grosir)||void 0===Y?void 0:Y.map(e=>n.a.createElement("div",{className:"col-md-4 col-sm-6 my-2"},n.a.createElement("div",{style:{backgroundColor:"whitesmoke",padding:"10px"}},n.a.createElement("p",{style:{marginBottom:"-2px"}},e.priceCurrencyFormat),n.a.createElement("small",null,"min. ",e.min," Pcs"))))));else if((null===q||void 0===q||null===(u=q.price)||void 0===u||null===(p=u.grosir)||void 0===p?void 0:p.length)>0){var $,ee,te;H=n.a.createElement("div",{className:"row"},n.a.createElement("div",{className:"col-md-12"},n.a.createElement("div",{className:"product__prices"},null===q||void 0===q||null===($=q.price)||void 0===$?void 0:$.primaryCurrencyFormat)),n.a.createElement("div",{className:"col-md-12",style:{marginBottom:"-17px"}},n.a.createElement("p",null,"Harga Grosir : ")),null===q||void 0===q||null===(ee=q.price)||void 0===ee||null===(te=ee.grosir)||void 0===te?void 0:te.map(e=>n.a.createElement("div",{className:"col-md-4 col-sm-6 my-2"},n.a.createElement("div",{style:{backgroundColor:"whitesmoke",padding:"10px"}},n.a.createElement("p",{style:{marginBottom:"-2px"}},e.priceCurrencyFormat),n.a.createElement("small",null,"min. ",e.min," Pcs")))))}else{var ae;H=n.a.createElement("div",{className:"product__prices text-danger"},null===q||void 0===q||null===(ae=q.price)||void 0===ae?void 0:ae.primaryCurrencyFormat)}let le=null===q||void 0===q||null===(h=q.badges)||void 0===h?void 0:h.map(e=>n.a.createElement("div",{className:"mr-1 d-inline-block"},n.a.createElement("div",{className:"py-1 px-2 bg-info text-light rounded"},e)));return n.a.createElement("div",{className:"product product--layout--".concat(I)},n.a.createElement("div",{className:"product__content"},n.a.createElement(E,{layout:I,images:null===q||void 0===q?void 0:q.images}),n.a.createElement("div",{className:"product__info"},n.a.createElement("h1",{className:"product__name"},null===q||void 0===q?void 0:q.name),n.a.createElement("div",{className:"product__rating"},n.a.createElement("div",{className:"product__rating-stars"},n.a.createElement(N.a,{value:null===q||void 0===q?void 0:q.rating})),n.a.createElement("div",{className:"product__rating-legend"},n.a.createElement("span",null,"".concat((null===q||void 0===q||null===(v=q.review)||void 0===v?void 0:v.total)||0," Reviews")))),n.a.createElement("ul",{className:"product__meta d-block"},!(null===q||void 0===q||null===(g=q.category)||void 0===g||null===(b=g[(null===q||void 0===q||null===(w=q.category)||void 0===w?void 0:w.length)-1])||void 0===b||null===(f=b.title)||void 0===f||null===(k=f.toLowerCase())||void 0===k?void 0:k.includes("jasa"))&&n.a.createElement("li",{className:"product__meta-availability"},n.a.createElement("dl",{className:"d-flex mb-0"},n.a.createElement("dt",{style:{width:"100px"}},"Stok"),n.a.createElement("dd",{className:"mb-0"},":"),n.a.createElement("dd",{className:"mb-0 ml-1"},n.a.createElement("span",{className:i()("font-weight-bold",{"text-danger":0===(null===q||void 0===q?void 0:q.stock),"text-success":(null===q||void 0===q?void 0:q.stock)>0})},(null===q||void 0===q?void 0:q.stock)||0)))),null!==(null===q||void 0===q?void 0:q.workDuration)&&0!==Number(null===q||void 0===q?void 0:q.workDuration)&&n.a.createElement("li",{className:"product__meta-availability"},n.a.createElement("dl",{className:"d-flex mb-0"},n.a.createElement("dt",{style:{width:"100px"}},"Lama Sewa/Pengerjaan"),n.a.createElement("dd",{className:"mb-0"},":"),n.a.createElement("dd",{className:"mb-0 ml-1"},n.a.createElement("span",{className:i()("font-weight-bold")},null===q||void 0===q?void 0:q.workDuration," Hari")))),n.a.createElement("li",null,n.a.createElement("dl",{className:"d-flex mb-0"},n.a.createElement("dt",{style:{width:"100px"}},"Brand"),n.a.createElement("dd",{className:"mb-0"},":"),n.a.createElement("dd",{className:"mb-0 ml-1"},(null===q||void 0===q||null===(S=q.manufacturer)||void 0===S?void 0:S.name)||"-"))),n.a.createElement("li",null,n.a.createElement("dl",{className:"d-flex mb-0"},n.a.createElement("dt",{style:{width:"100px"}},"Penjual"),n.a.createElement("dd",{className:"mb-0"},":"),n.a.createElement("dd",{className:"mb-0 ml-1"},n.a.createElement(r.b,{className:"font-weight-bold",to:"/store/".concat(null===q||void 0===q||null===(x=q.mall)||void 0===x?void 0:x.slug)},null===q||void 0===q||null===(C=q.mall)||void 0===C?void 0:C.name)))),n.a.createElement("li",null,n.a.createElement("dl",{className:"d-flex mb-0"},n.a.createElement("dt",{style:{width:"100px"}},"Jenis Usaha"),n.a.createElement("dd",{className:"mb-0"},":"),n.a.createElement("dd",{className:"mb-0 ml-1"},null===q||void 0===q||null===(_=q.mall)||void 0===_?void 0:_.type)))),n.a.createElement("div",{className:"mt-2"},le)),n.a.createElement("div",{className:"product__sidebar"},H,U?n.a.createElement("div",{className:"tax-exempt-info mb-3",style:{marginTop:"10px",fontSize:"14px"}},n.a.createElement("div",{className:"mb-1"},n.a.createElement("strong",null,"Harga:")," Rp"," ",Number((null===q||void 0===q||null===(P=q.ppn)||void 0===P?void 0:P.dpp)||(null===q||void 0===q||null===(T=q.price)||void 0===T?void 0:T.primary)).toLocaleString("id-ID").replace(/,/g,".")),n.a.createElement("div",{className:"mb-1",style:{color:"#28a745"}},n.a.createElement("strong",null,"Keterangan:")," Bebas Pajak"),n.a.createElement("div",{className:"mb-1"},n.a.createElement("strong",null,"DPP Nilai Lain:")," Rp 0"),n.a.createElement("div",{className:"mb-1"},n.a.createElement("strong",null,"PPN 12%:")," Rp 0"),n.a.createElement("div",{className:"mb-1"},n.a.createElement("strong",null,"DPP PPh:")," Rp"," ",Number((null===q||void 0===q||null===(O=q.ppn)||void 0===O?void 0:O.dpp)||(null===q||void 0===q||null===(j=q.price)||void 0===j?void 0:j.primary)).toLocaleString("id-ID").replace(/,/g,"."))):n.a.createElement("ul",{className:"product__meta mb-4 d-block",style:{marginTop:"-23px"}},n.a.createElement("li",null,n.a.createElement("dl",{className:"d-flex mb-0"},n.a.createElement("dt",{style:{width:"100px"}},"DPP PPh"),n.a.createElement("dd",{className:"mb-0"},":"),n.a.createElement("dd",{className:"mb-0 ml-1"},"Rp",Number(null===q||void 0===q||null===(M=q.ppn)||void 0===M?void 0:M.dpp).toLocaleString().replaceAll(",",".")||0))),n.a.createElement("li",null,n.a.createElement("dl",{className:"d-flex mb-0"},n.a.createElement("dt",{style:{width:"100px"}},"Dpp Nilai Lain"),n.a.createElement("dd",{className:"mb-0"},":"),n.a.createElement("dd",{className:"mb-0 ml-1"},"Rp",Math.ceil((null!==(R=null===q||void 0===q||null===(L=q.ppn)||void 0===L?void 0:L.dpp)&&void 0!==R?R:0)*(11/12)).toLocaleString("id-ID")))),n.a.createElement("li",null,n.a.createElement("dl",{className:"d-flex mb-0"},n.a.createElement("dt",{style:{width:"100px"}},"Ppn 12%"),n.a.createElement("dd",{className:"mb-0"},":"),n.a.createElement("dd",{className:"mb-0 ml-1"},"Rp",Number(null===q||void 0===q||null===(D=q.ppn)||void 0===D?void 0:D.ppnPrice).toLocaleString().replaceAll(",",".")||0)))),n.a.createElement("form",{className:"product__options"},n.a.createElement("div",{className:"form-group product__option"},n.a.createElement("label",{htmlFor:"product-quantity",className:"product__option-label"},"Kuantitas"),n.a.createElement("div",{className:"product__actions"},n.a.createElement("div",{className:"product__actions-item"},n.a.createElement(m.a,{id:"product-quantity","aria-label":"Quantity",className:"product__quantity",size:"lg",min:1,max:(null===q||void 0===q?void 0:q.stock)||1,value:G,onChange:this.handleChangeQuantity})),n.a.createElement("div",{className:"product__actions-item product__actions-item--addtocart"},n.a.createElement(d.a,{action:()=>this.handleAddCart(G),render:e=>{let{run:t,loading:a}=e;return n.a.createElement("button",{type:"button",style:{backgroundColor:"rgb(255, 98, 33)",borderColor:"rgb(255, 98, 33)"},onClick:t,disabled:!G||G>((null===q||void 0===q?void 0:q.stock)||0)||G<0,className:i()("btn btn-primary custome btn-lg",{"btn-loading":a})},"Tambah ke keranjang")}})),B&&n.a.createElement("div",{className:"product__actions-item product__actions-item--compare"},(null===q||void 0===q||null===(F=q.ppn)||void 0===F?void 0:F.dpp)>5e7?n.a.createElement(d.a,{render:e=>{let{run:t,loading:a}=e;return n.a.createElement("button",{type:"button","data-toggle":"tooltip",disabled:!G||G>((null===q||void 0===q?void 0:q.stock)||0),title:"Nego",onClick:()=>this.handleOpenNego(!0),className:i()("btn btn-danger custome btn-lg")},"Nego")}}):n.a.createElement(d.a,{render:e=>{let{run:t,loading:a}=e;return n.a.createElement("button",{type:"button","data-toggle":"tooltip",disabled:!G||G>((null===q||void 0===q?void 0:q.stock)||0),title:"Nego",onClick:()=>this.handleOpenNego(!0),className:i()("btn btn-danger custome btn-lg"),style:{backgroundColor:"#FFF",color:"#000"}},"Nego")}}),n.a.createElement(y.a,{token:null===A||void 0===A?void 0:A.token,open:this.state.openNego,product:q,zone:z,toggle:this.handleOpenNego}))))))))}}k.defaultProps={layout:"standard"};const w={cartAddItem:f.a};t.a=Object(c.j)(Object(s.b)(e=>({customer:e.customer,auth:e.auth}),w)(k))}}]);
//# sourceMappingURL=7.ba4cd368.chunk.js.map