(this["webpackJsonpsiplah.eureka"]=this["webpackJsonpsiplah.eureka"]||[]).push([[42],{214:function(t,e,a){"use strict";a.r(e);var o=a(4),r=a(1),s=a.n(r),c=a(10),i=a(7),n=a.n(i),l=a(40),d=a(170),u=a(203),p=a(204),m=a(207),f=a(65),g=a(206),b=a(66);function y(t){const e=n.a.parse(t),a={page:1,limit:6,from:"",fromProductId:""};return"string"===typeof e.page&&(a.page=parseFloat(e.page)),"string"===typeof e.limit&&(a.limit=parseFloat(e.limit)),"string"===typeof e.sort&&(a.sort=e.sort),"string"===typeof e.keyword&&(a.keyword=e.keyword),"string"===typeof e.from&&(a.from=e.from),"string"===typeof e.fromProductId&&(a.fromProductId=e.fromProductId),"string"===typeof e.categoryId&&(a.categoryId=e.categoryId),a}function E(t){const e=n.a.parse(t),a={};return Object.keys(e).forEach(t=>{const o=t.match(/^filter_([-_A-Za-z0-9]+)$/);if(!o)return;const r=o[1];a[r]=e[t]}),a}const O={init:!1,categoryIsLoading:!0,category:null,productsListIsLoading:!0,productsList:null,options:{},filters:{}};function L(t,e){switch(e.type){case"FETCH_CATEGORY_SUCCESS":return Object(o.a)(Object(o.a)({},t),{},{init:!0,categoryIsLoading:!1,category:e.category});case"FETCH_PRODUCTS_LIST":return Object(o.a)(Object(o.a)({},t),{},{productsListIsLoading:!0});case"FETCH_PRODUCTS_LIST_SUCCESS":return Object(o.a)(Object(o.a)({},t),{},{productsListIsLoading:!1,productsList:e.productsList});case"SET_OPTION_VALUE":return Object(o.a)(Object(o.a)({},t),{},{options:Object(o.a)(Object(o.a)({},t.options),{},{page:1,[e.option]:e.value})});case"SET_FILTER_VALUE":return Object(o.a)(Object(o.a)({},t),{},{options:Object(o.a)(Object(o.a)({},t.options),{},{page:1}),filters:Object(o.a)(Object(o.a)({},t.filters),{},{[e.filter]:e.value})});case"RESET_FILTERS":return Object(o.a)(Object(o.a)({},t),{},{options:{page:1,limit:6},filters:{}});case"RESET":return t.init?O:t;default:throw new Error}}function h(t){const[e,a]=[y(r=window.location.search),E(r)];var r;return Object(o.a)(Object(o.a)({},t),{},{options:e,filters:a})}function j(t){const{columns:e,viewMode:a,sidebarPosition:i,store:l,forAct:b,doHandleChooseProduct:y,mainProduct:E,customer:j,doHandleFetchCompareList:v}=t,I=3===e?"mobile":"always",[S,_]=Object(r.useReducer)(L,O,h);let C,{slug:T,categoryId:w}=Object(c.i)();if(Object(r.useEffect)(()=>{const t=function(t,e){const a={};return 1!==t.page&&(a.page=t.page),6!==t.limit&&(a.limit=t.limit),""!==t.sort&&(a.sort=t.sort),""!==t.keyword&&(a.keyword=t.keyword),""!==t.from&&(a.from=t.from),""!==t.fromProductId&&(a.fromProductId=t.fromProductId),""!==t.categoryId&&(a.categoryId=t.categoryId),Object.keys(e).filter(t=>!!e[t]).forEach(t=>{a["filter_".concat(t)]=e[t]}),n.a.stringify(a,{encode:!1})}(S.options,S.filters),e="".concat(window.location.pathname).concat(t?"?":"").concat(t);window.history.replaceState(null,"",e)},[S.options,S.filters]),""!==l&&void 0!==l&&(T=l),Object(r.useEffect)(()=>{let t=!1;return _({type:"FETCH_PRODUCTS_LIST"}),f.a.getProducts(Object(o.a)({},S.options),Object(o.a)({},S.filters),T,w,null===j||void 0===j?void 0:j.token).then(e=>{const{data:a}=e;t||_(b?{type:"FETCH_PRODUCTS_LIST_SUCCESS",productsList:a}:{type:"FETCH_PRODUCTS_LIST_SUCCESS",productsList:Object(o.a)(Object(o.a)({},a),{},{filters:a.filters.filter(t=>"category"!==t.type)})})}),()=>{t=!0}},[_,T,l,w,S.categoryName,S.options,S.filters,null===j||void 0===j?void 0:j.token]),S.productsListIsLoading&&!S.productsList)return s.a.createElement(d.default,null);const k=s.a.createElement(m.a,{forAct:b,doHandleChooseProduct:y,isLoading:S.productsListIsLoading,productsList:S.productsList,mainProduct:E,sorts:S.productsList.sorts,options:S.options,filters:S.filters,dispatch:_,layout:a,doHandleFetchCompareList:v,grid:"grid-".concat(e,"-").concat(e>3?"full":"sidebar"),offcanvas:I});let P=s.a.createElement(u.a,{offcanvas:I},s.a.createElement(p.a,null,s.a.createElement(g.a,{title:"Filter",offcanvas:I,filters:S.productsList.filters,values:S.filters,dispatch:_})));if("compare"===b&&(P=s.a.createElement(u.a,{offcanvas:I,style:{position:"sticky",top:"10px",left:0}},s.a.createElement("div",{className:"card"},s.a.createElement("div",{className:"card-body"},s.a.createElement("div",{className:"row"},s.a.createElement("div",{className:"col-12"},s.a.createElement("img",{alt:"",src:E.image,style:{width:"100%",opacity:.7,display:"block",height:"auto",transition:".5s ease",backfaceVisibility:"hidden"}})),s.a.createElement("div",{className:"col-12 text-center",style:{position:"absolute",top:" 50%",left:" 50%",transform:"translate(-50%, -50%)",msTransform:"translate(-50%, -50%)",textAlign:"center",background:"rgba(0,0,0,.5)",padding:"17px",color:"white"}},s.a.createElement("h5",null,E.name),s.a.createElement("h6",null,E.priceCurrencyFormat),s.a.createElement("h6",null,"Jumlah : ",E.qty),s.a.createElement("span",{class:"badge badge-primary"},"Barang Yang Dibandingkan"))))))),e>4)C=s.a.createElement("div",{className:"container mt-5"},s.a.createElement("div",{className:"block"},k),P);else{const t=s.a.createElement("div",{className:"shop-layout__sidebar"},P);C=s.a.createElement("div",{style:{background:"rgb(236,236,237)"},className:"pt-5"},s.a.createElement("div",{className:"container"},s.a.createElement("div",{className:"shop-layout shop-layout--sidebar--".concat(i)},"start"===i&&t,s.a.createElement("div",{className:"shop-layout__content"},s.a.createElement("div",{className:"block"},k)),"end"===i&&t)))}return s.a.createElement(s.a.Fragment,null,C)}j.defaultProps={columns:3,viewMode:"grid",sidebarPosition:"start"};e.default=Object(l.b)(t=>({sidebarState:t.sidebar,page:t.category,customer:t.customer}),()=>({sidebarClose:b.b}))(j)}}]);
//# sourceMappingURL=42.fc3569f1.chunk.js.map