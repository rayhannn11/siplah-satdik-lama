(this["webpackJsonpsiplah.eureka"]=this["webpackJsonpsiplah.eureka"]||[]).push([[25],{150:function(e,t,n){"use strict";var l=n(1);class i extends l.Component{constructor(){super(...arguments),this.handleTransitionEnd=e=>{this.content&&"height"===e.propertyName&&(this.content.style.height="")},this.handleToggle=()=>{const{toggleClass:e}=this.props;this.item&&this.content&&e&&(this.item.classList.contains(e)?this.collapse():this.expand())},this.setItemRef=e=>{this.item=e},this.setContentRef=e=>{this.content=e}}componentDidMount(){if(!this.content)return;const{open:e}=this.props;this.content.addEventListener("transitionend",this.handleTransitionEnd),!0===e&&this.expand(!0),!1===e&&this.collapse(!0)}componentDidUpdate(){const{open:e}=this.props;"boolean"===typeof e&&(e?this.expand():this.collapse())}componentWillUnmount(){this.content&&this.content.removeEventListener("transitionend",this.handleTransitionEnd)}expand(){let e=arguments.length>0&&void 0!==arguments[0]&&arguments[0];const{toggleClass:t}=this.props;if(this.item&&this.content&&t)if(e)this.item.classList.add(t),this.content.style.height="";else{const e=this.content.getBoundingClientRect().height;this.item.classList.add(t);const n=this.content.getBoundingClientRect().height;this.content.style.height=e+"px",this.content.getBoundingClientRect(),this.content.style.height=n+"px"}}collapse(){let e=arguments.length>0&&void 0!==arguments[0]&&arguments[0];const{toggleClass:t}=this.props;if(e)this.item.classList.remove(t),this.content.style.height="";else{const e=this.content.getBoundingClientRect().height;this.content.style.height=e+"px",this.item.classList.remove(t),this.content.getBoundingClientRect(),this.content.style.height=""}}render(){const{render:e}=this.props;return e?e({toggle:this.handleToggle,setItemRef:this.setItemRef,setContentRef:this.setContentRef}):null}}t.a=i},151:function(e,t,n){"use strict";const l={getCategories:()=>fetch("https://siplah.eurekabookhouse.co.id/api/product/category").then(e=>e.json())};t.a=l},374:function(e,t,n){"use strict";n.r(t);var l=n(1),i=n.n(l),a=n(29),s=n.n(a),o=n(34),c=n(3),r=n.n(c),u=n(33);const h=i.a.memo(e=>{const{external:t,children:n,...l}=e;let a;if(t){const{to:e,replace:t,innerRef:s,...o}=l;a=i.a.createElement("a",Object.assign({href:e},o),n)}else a=i.a.createElement(u.b,l,n);return a});h.propTypes={to:r.a.oneOfType([r.a.string,r.a.shape({pathname:r.a.string,search:r.a.string,hash:r.a.string,state:r.a.any})]).isRequired,replace:r.a.bool,innerRef:r.a.oneOfType([r.a.func,r.a.object]),external:r.a.bool},h.defaultProps={external:!1};var m=h,p=n(150),d=n(134);function b(e){const{links:t,level:n,onItemClick:a}=e,s=e=>{a&&a(e)},o=t.map((e,t)=>{let l;return"link"===e.type||"button"===e.type||"href"===e.type?l=i.a.createElement(p.a,{toggleClass:"mobile-links__item--open",render:t=>{let l,o,c,{toggle:r,setItemRef:u,setContentRef:h}=t;return e.children&&e.children.length>0&&(l=i.a.createElement("button",{className:"mobile-links__item-toggle",type:"button",onClick:r},i.a.createElement(d.b,{className:"mobile-links__item-arrow"})),o=i.a.createElement("div",{className:"mobile-links__item-sub-links",ref:h},i.a.createElement(b,{links:e.children,level:n+1,onItemClick:a}))),c="link"===e.type?i.a.createElement(m,{to:e.url,external:e.external,className:"mobile-links__item-link",onClick:()=>s(e)},e.label):i.a.createElement("button",{type:"button",className:"mobile-links__item-link",onClick:()=>s(e)},e.label),i.a.createElement("div",{className:"mobile-links__item",ref:u},i.a.createElement("div",{className:"mobile-links__item-title"},c,l),o)}}):"divider"===e.type&&(l=i.a.createElement("div",{className:"mobile-links__divider"})),i.a.createElement("li",{key:t},l)});return Object(l.useMemo)(()=>i.a.createElement("ul",{className:"mobile-links mobile-links--level--"+n},o),[n,o])}b.defaultProps={links:[],level:0};var g=Object(o.b)(e=>({auth:e.auth}),null)(b),y=n(71),k=n(41),f=n(64),E=[{title:"\u20ac Euro",currency:{code:"EUR",symbol:"\u20ac",name:"Euro"}},{title:"\xa3 Pound Sterling",currency:{code:"GBP",symbol:"\xa3",name:"Pound Sterling"}},{title:"$ US Dollar",currency:{code:"USD",symbol:"$",name:"US Dollar"}},{title:"\u20bd Russian Ruble",currency:{code:"RUB",symbol:"\u20bd",name:"Russian Ruble"}}],C=[{type:"link",label:"Home",url:"/"},{type:"link",auth:!0,label:"Akun",url:"/account",children:[{type:"link",label:"Dashboard",url:"/account/dashboard"},{type:"link",label:"Data Sekolah",url:"/account/detail"},{type:"link",label:"Lokasi Sekolah",url:"/account/address"},{type:"link",label:"Notifikasi",url:"/account/notification"},{type:"link",label:"Transaksi",url:"/account/orders"},{type:"link",label:"Negosiasi",url:"/account/negotiation"},{type:"link",label:"Perbandingan",url:"/account/compare"},{type:"link",label:"Komplain",url:"/account/complaint"}]},{type:"button",label:"Login",auth:!1,url:"",children:[{type:"link",label:"Sekolah",external:!1,url:"/login"},{type:"link",label:"Penjual",external:!0,url:"https://siplah.eurekabookhouse.co.id/penyedia/"}]},{type:"link",label:"Bantuan",url:"/site/technical-support"},{type:"button",label:"Logout",auth:!0,url:"/"}],_=n(15),v=n(151),R=n(36),N=n(37),x=n(21),L=n(38),M=n(9),j=n(19);const S={closeMobileMenu:f.b,changeLocale:k.b,changeCurrency:y.a,customerAdd:R.a,loginCustomer:N.b,resetMiniCart:x.c,resetFirstLogin:L.b};t.default=Object(M.j)(Object(o.b)(e=>({mobileMenuState:e.mobileMenu,auth:e.auth,customer:e.customer,categories:e.categories}),S)((function(e){const[t,n]=Object(l.useState)([]),{mobileMenuState:a,closeMobileMenu:o,changeLocale:c,changeCurrency:r,auth:u,customer:h}=e;Object(l.useEffect)(()=>(v.a.getCategories().then(e=>{const{status:t,data:l}=e;if(200===t.code){const e=l.map(e=>({type:"button",label:e.title,children:e.submenu.menu.map(e=>({type:e.submenu.length>0?"button":"link",label:e.title,url:`/products/category/${e.id}/${e.url}`,children:e.submenu.map(e=>({type:"link",label:e.title,url:`/products/category/${e.id}/${e.url}`}))}))}));let t=C.filter(e=>e.auth===u||"undefined"===typeof e.auth);const i={type:"button",label:"Kategori",url:"",children:e};t.splice(1,0,i),n(t)}}),()=>{}),[u]);const m=s()("mobilemenu",{"mobilemenu--open":a.open});return i.a.createElement("div",{className:m},i.a.createElement("div",{className:"mobilemenu__backdrop",onClick:o}),i.a.createElement("div",{className:"mobilemenu__body"},i.a.createElement("div",{className:"mobilemenu__header"},i.a.createElement("div",{className:"mobilemenu__title"},"Menu"),i.a.createElement("button",{type:"button",className:"mobilemenu__close",onClick:o},i.a.createElement(d.o,null))),i.a.createElement("div",{className:"mobilemenu__content"},i.a.createElement(g,{links:t,onItemClick:t=>{if(t.data&&("language"===t.data.type&&(c(t.data.locale),o()),"currency"===t.data.type)){const e=E.find(e=>e.currency.code===t.data.code);e&&(r(e.currency),o())}"link"===t.type&&o(),"logout"===t.label.toLowerCase()&&(_.a.logout(h.token).then(t=>{e.history.push("/login"),e.loginCustomer(!1),e.customerAdd({}),e.resetMiniCart(),e.resetFirstLogin(),j.b.success("Berhasil logout")}),o())}}))))})))}}]);
//# sourceMappingURL=25.5f1c0228.chunk.js.map