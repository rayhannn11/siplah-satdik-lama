{"version":3,"sources":["components/blocks/BlockLoader.jsx","components/shared/AsyncAction.jsx","services/utils.js","components/header/Indicator.jsx","components/header/Suggestions.jsx","components/header/Search.jsx","components/mobile/MobileHeader.jsx"],"names":["BlockLoader","props","React","createElement","Object","assign","className","AsyncAction","Component","constructor","super","canceled","run","action","this","loading","state","setState","then","componentWillUnmount","render","url","home","catalog","category","concat","slug","product","mall","id","getCategoryParents","parent","Indicator","PureComponent","_this$props$openNotif","setWrapperRef","node","wrapperRef","handleOutsideClick","event","open","contains","target","close","handleButtonClick","onClick","dropdown","preventDefault","toggle","openNotif","tooltipOpen","componentDidMount","document","addEventListener","componentDidUpdate","prevProps","prevState","onOpen","onClose","removeEventListener","closeNotif","icon","console","log","button","value","undefined","title","Link","to","type","classes","classNames","ref","Suggestions","memo","context","products","itemMalls","cartAddItem","isLoading","customer","query","rootClasses","list","map","_product$mall","price","primary","parseFloat","isTaxExempt","taxExempt","ppnTagItem","dppPph","Math","ceil","floor","dppNilaiLain","Number","ppn","formattedPrice","round","toLocaleString","primaryCurrencyFormat","key","images","length","src","alt","name","style","fontSize","color","Fragment","ppnRate","token","Promise","resolve","history","push","handleAddCart","_ref","Cart16Svg","listToko","_mall$location","image","location","city","ArrowRoundedRight6x9Svg","mapDispatchToProps","withRouter","connect","Search","inputRef","cancelFn","setCancelFn","useState","suggestionsOpen","setSuggestionsOpen","hasSuggestions","setHasSuggestions","suggestedProducts","setSuggestedProducts","suggestedItemMalls","setSuggestedItemMalls","isLoadingSuggestions","setIsLoadingSuggestions","setQuery","wrapper","useRef","useCallback","useEffect","onGlobalClick","current","debounceRef","handleChangeQuery","clearTimeout","setTimeout","shopApi","getSuggestions","limit","page","response","_response$data","_response$data$data","_response$data2","_response$data3","_response$data3$data","_response$data4","data","items","catch","error","closeButton","Cross20Svg","onBlur","handleBlur","activeElement","body","borderRadius","process","borderTopLeftRadius","borderBottomLeftRadius","onChange","onFocus","handleFocus","onKeyDown","which","placeholder","aria-label","autoComplete","borderTopRightRadius","borderBottomRightRadius","Search20Svg","MobileHeader","handleOpenSearch","searchOpen","handleCloseSearch","searchInput","createRef","focus","openMobileMenu","miniCart","auth","searchClasses","Menu18x14Svg","LazyLoadImage","width","height","effect","totalAllProduct","Cart20Svg","mobileMenuOpen","cart"],"mappings":"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","file":"static/js/20.7c96ce29.chunk.js","sourcesContent":["// react\nimport React from \"react\";\n\nexport default function BlockLoader(props) {\n    return (\n        <div className=\"block-loader\" {...props}>\n            <div className=\"block-loader__spinner\" />\n        </div>\n    );\n}\n","// react\nimport { Component } from 'react';\n\n// third-party\nimport PropTypes from 'prop-types';\n\nclass AsyncAction extends Component {\n    canceled = false;\n\n    constructor(props) {\n        super(props);\n\n        this.state = {\n            loading: false,\n        };\n    }\n\n    componentWillUnmount() {\n        this.canceled = true;\n    }\n\n    run = () => {\n        const { action } = this.props;\n        const { loading } = this.state;\n\n        if (loading || !action) {\n            return;\n        }\n\n        this.setState({ loading: true });\n\n        action().then(() => {\n            if (this.canceled) {\n                return;\n            }\n\n            this.setState({ loading: false });\n        });\n    };\n\n    render() {\n        const { render } = this.props;\n        const { loading } = this.state;\n\n        if (render) {\n            return render({ run: this.run, loading });\n        }\n\n        return null;\n    }\n}\n\nAsyncAction.propTypes = {\n    action: PropTypes.func,\n    render: PropTypes.func,\n};\n\nexport default AsyncAction;\n","export const url = {\n    home: () => \"/\",\n\n    catalog: () => \"/shop/catalog\",\n\n    category: (category) => `/shop/catalog/${category.slug}`,\n\n    product: (product) => `/product/${product.mall.id}/${product.slug}`,\n\n    mall: (mall) => `/store/${mall.slug}`,\n};\n\nexport function getCategoryParents(category) {\n    return category.parent ? [...getCategoryParents(category.parent), category.parent] : [];\n}\n","// react\r\nimport React, { PureComponent } from \"react\";\r\n\r\n// third-party\r\nimport classNames from \"classnames\";\r\nimport PropTypes from \"prop-types\";\r\nimport { Link } from \"react-router-dom\";\r\n\r\nclass Indicator extends PureComponent {\r\n    constructor(props) {\r\n        super(props);\r\n\r\n        this.state = {\r\n            open: this.props.openNotif ?? false,\r\n            tooltipOpen: false,\r\n        };\r\n    }\r\n\r\n    componentDidMount() {\r\n        document.addEventListener(\"mousedown\", this.handleOutsideClick);\r\n    }\r\n\r\n    componentDidUpdate(prevProps, prevState) {\r\n        const { open } = this.state;\r\n        const { onOpen, onClose } = this.props;\r\n        if (open !== prevState.open) {\r\n            if (open && onOpen) {\r\n                onOpen();\r\n            }\r\n            if (!open && onClose) {\r\n                onClose();\r\n            }\r\n        }\r\n    }\r\n\r\n    componentWillUnmount() {\r\n        document.removeEventListener(\"mousedown\", this.handleOutsideClick);\r\n    }\r\n\r\n    setWrapperRef = (node) => {\r\n        this.wrapperRef = node;\r\n    };\r\n\r\n    handleOutsideClick = (event) => {\r\n        const { open } = this.state;\r\n\r\n        if (this.wrapperRef && !this.wrapperRef.contains(event.target) && open) {\r\n            this.close();\r\n        }\r\n    };\r\n\r\n    handleButtonClick = (event) => {\r\n        const { onClick, dropdown } = this.props;\r\n\r\n        if (dropdown) {\r\n            event.preventDefault();\r\n        }\r\n\r\n        this.toggle();\r\n\r\n        if (onClick) {\r\n            onClick(event);\r\n        }\r\n    };\r\n\r\n    toggle() {\r\n        this.setState((state) => ({\r\n            open: !state.open,\r\n        }));\r\n    }\r\n\r\n    open() {\r\n        this.setState(() => ({\r\n            open: true,\r\n        }));\r\n    }\r\n\r\n    close() {\r\n        this.setState(() => ({\r\n            open: false,\r\n        }));\r\n\r\n        if (this.props.closeNotif) {\r\n            this.props.closeNotif();\r\n        }\r\n    }\r\n\r\n    render() {\r\n        const { open } = this.state;\r\n        const { url, className, icon } = this.props;\r\n        console.log(this.props, \"props lonceng\");\r\n        let { value, dropdown } = this.props;\r\n        let button;\r\n\r\n        if (value !== undefined) {\r\n            value = <span className=\"indicator__value\">{value}</span>;\r\n        }\r\n\r\n        const title = (\r\n            <span className=\"indicator__area\">\r\n                {icon}\r\n                {value}\r\n            </span>\r\n        );\r\n\r\n        if (url) {\r\n            button = (\r\n                <Link to={url} className=\"indicator__button\" onClick={this.handleButtonClick}>\r\n                    {title}\r\n                </Link>\r\n            );\r\n        } else {\r\n            button = (\r\n                <button type=\"button\" className=\"indicator__button\" onClick={this.handleButtonClick}>\r\n                    {title}\r\n                </button>\r\n            );\r\n        }\r\n\r\n        if (dropdown) {\r\n            dropdown = <div className=\"indicator__dropdown\">{dropdown}</div>;\r\n        }\r\n\r\n        const classes = classNames(`indicator indicator--trigger--click ${className}`, {\r\n            \"indicator--opened\": open,\r\n        });\r\n\r\n        return (\r\n            <div className={classes} ref={this.setWrapperRef}>\r\n                {button}\r\n                {dropdown}\r\n            </div>\r\n        );\r\n    }\r\n}\r\n\r\nIndicator.propTypes = {\r\n    /** indicator value */\r\n    value: PropTypes.number,\r\n    /** the component that will be shown in the dropdown */\r\n    dropdown: PropTypes.node,\r\n    /** indicator icon */\r\n    icon: PropTypes.node,\r\n    /** indicator url */\r\n    url: PropTypes.string,\r\n    /** callback function that is called when the dropdown is opened */\r\n    onOpen: PropTypes.func,\r\n    /** callback function that is called when the dropdown is closed */\r\n    onClose: PropTypes.func,\r\n};\r\n\r\nexport default Indicator;\r\n","// react\nimport React from \"react\";\n\n// third-party\nimport classNames from \"classnames\";\nimport { connect } from \"react-redux\";\nimport { Link, withRouter } from \"react-router-dom\";\n\n// application\nimport AsyncAction from \"../shared/AsyncAction\";\nimport { ArrowRoundedRight6x9Svg, Cart16Svg, LocationPin } from \"../../svg\";\nimport { cartAddItem } from \"../../store/cart\";\nimport { url } from \"../../services/utils\";\nimport BlockLoader from \"../blocks/BlockLoader\";\n\nconst Suggestions = React.memo((props) => {\n    const { context, className, products, itemMalls, cartAddItem, isLoading, customer, query } = props;\n    const rootClasses = classNames(`suggestions suggestions--location--${context}`, className);\n\n    const handleAddCart = (product) => {\n        if (customer.token !== undefined && customer.token !== \"\") {\n            return cartAddItem(product, customer.token);\n        } else {\n            return new Promise((resolve) => {\n                // window.open(\"https://sso.datadik.kemdikbud.go.id/app/3D1C4271-7C02-487E-B330-7294B7EB4564\", \"_self\");\n                props.history.push(\"/login\");\n                resolve();\n            });\n        }\n    };\n\n    // PPN rate - standard Indonesian VAT rate is 11%\n    const ppnRate = 0.12;\n\n    console.log(products, \"search product\");\n    console.log(itemMalls, \"search itemMalls\");\n\n    // Inside the products.map function in your Suggestions component\n\n    const list =\n        products &&\n        products.map((product) => {\n            // Get base price\n            const price =\n                typeof product.price.primary === \"number\"\n                    ? product.price.primary\n                    : parseFloat(product.price.primary || 0);\n\n            // Check if product is tax exempt (you may need to adjust this condition based on your actual data structure)\n            const isTaxExempt = product.taxExempt || product.isTaxExempt || !product.ppnTagItem || false;\n\n            // PPN amount calculation\n            const ppnAmount = isTaxExempt ? 0 : Math.ceil((price / 1.11) * 0.11);\n\n            const dppPph = Math.floor(price / 1.11);\n\n            const dppNilaiLain = Math.ceil((11 / 12) * Number(dppPph));\n            const ppn = Math.ceil(dppNilaiLain * ppnRate);\n\n            // Format price to show rounded amount without decimals if needed\n            const formattedPrice = isTaxExempt\n                ? `Rp ${Math.round(price).toLocaleString(\"id-ID\")}`\n                : product.price.primaryCurrencyFormat;\n\n            return (\n                <li key={product.id} className=\"suggestions__item\">\n                    {/* Product image section */}\n                    {product.images && product.images.length > 0 && (\n                        <div className=\"suggestions__item-image product-image\">\n                            <div className=\"product-image__body\">\n                                <img className=\"product-image__img\" src={product.images[0]} alt=\"\" />\n                            </div>\n                        </div>\n                    )}\n\n                    {/* Product info section */}\n                    <div className=\"suggestions__item-info\">\n                        <Link className=\"suggestions__item-name\" to={url.product(product)}>\n                            {product.name}\n                        </Link>\n                        <div className=\"suggestions__item-meta\">{product.mall?.name}</div>\n                    </div>\n\n                    {/* Price and PPN section */}\n                    <div className=\"suggestions__item-price\">\n                        {formattedPrice}\n                        <div className=\"suggestions__item-ppn\" style={{ fontSize: \"11px\", color: \"#6c757d\" }}>\n                            {isTaxExempt ? (\n                                <>\n                                    <div style={{ color: \"#28A745\" }}>Bebas Pajak</div>\n                                    <div>DPP PPH: {formattedPrice}</div>\n                                    <div>DPP Nilai Lain: Rp 0</div>\n                                    <div>PPN 12%: Rp 0</div>\n                                </>\n                            ) : (\n                                <>\n                                    <div style={{ color: \"#28A745\" }}>Harga Termasuk Pajak</div>\n\n                                    <div>DPP PPH: Rp {dppPph.toLocaleString(\"id-ID\")}</div>\n                                    <div>DPP Nilai Lain: Rp {dppNilaiLain.toLocaleString(\"id-ID\")}</div>\n                                    <div>\n                                        PPN {ppnRate * 100}%: Rp {ppn.toLocaleString(\"id-ID\")}\n                                    </div>\n                                </>\n                            )}\n                        </div>\n                    </div>\n\n                    {/* Add to cart button (for header context) */}\n                    {context === \"header\" && (\n                        <div className=\"suggestions__item-actions\">\n                            <AsyncAction\n                                action={() => handleAddCart(product)}\n                                render={({ run, loading }) => (\n                                    <button\n                                        type=\"button\"\n                                        onClick={run}\n                                        title=\"Add to cart\"\n                                        className={classNames(\"btn btn-primary btn-sm btn-svg-icon\", {\n                                            \"btn-loading\": loading,\n                                        })}\n                                    >\n                                        <Cart16Svg />\n                                    </button>\n                                )}\n                            />\n                        </div>\n                    )}\n                </li>\n            );\n        });\n\n    const listToko =\n        itemMalls &&\n        itemMalls.map((mall) => (\n            <li key={mall.id} className=\"suggestions__item\">\n                {mall.image && mall.image.primary && (\n                    <div className=\"suggestions__item-image product-image\">\n                        <div className=\"product-image__body\">\n                            <img className=\"product-image__img\" src={mall.image.primary} alt=\"\" />\n                        </div>\n                    </div>\n                )}\n                <div className=\"suggestions__item-info\">\n                    <Link className=\"suggestions__item-name\" to={`/store/${mall.slug}`}>\n                        {mall.name}\n                    </Link>\n                    <div className=\"suggestions__item-meta\">{mall.location?.city}</div>\n                </div>\n            </li>\n        ));\n\n    return (\n        <div className={rootClasses}>\n            {isLoading ? (\n                <BlockLoader />\n            ) : (\n                <ul className=\"suggestions__list\">\n                    <li className=\"suggestions__item\">\n                        <div>BARANG</div>\n                    </li>\n                    {list && list.length > 0 ? (\n                        <>\n                            {list}\n                            <li className=\"suggestions__item d-flex justify-content-center\">\n                                <Link\n                                    to={`/products/search?keyword=${query}`}\n                                    className=\"suggestions__item-name\"\n                                    style={{ color: \"#0E336D\" }}\n                                >\n                                    Lihat Produk Lainnya\n                                </Link>\n                            </li>\n                        </>\n                    ) : (\n                        <li className=\"d-flex justify-content-center py-3\">Produk tidak ditemukan</li>\n                    )}\n\n                    <li className=\"suggestions__item\">\n                        <div>TOKO</div>\n                    </li>\n                    {listToko && listToko.length > 0 ? (\n                        <>\n                            {listToko}\n                            <li className=\"suggestions__item\">\n                                <Link\n                                    to={`/store?keyword=${query}`}\n                                    className=\"suggestions__item-name d-flex justify-content-between align-items-center w-100\"\n                                >\n                                    <div style={{ color: \"#0E336D\" }}>Lihat Pencarian Toko \"{query}\" Lainnya</div>\n                                    <ArrowRoundedRight6x9Svg />\n                                </Link>\n                            </li>\n                        </>\n                    ) : (\n                        <li className=\"d-flex justify-content-center py-3\">Toko tidak ditemukan</li>\n                    )}\n                </ul>\n            )}\n        </div>\n    );\n});\n\nconst mapStateToProps = (state) => ({ customer: state.customer });\n\nconst mapDispatchToProps = {\n    cartAddItem,\n};\n\nexport default withRouter(connect(mapStateToProps, mapDispatchToProps)(Suggestions));\n","// react\nimport React, { useCallback, useEffect, useRef, useState } from \"react\";\n\n// third-party\nimport classNames from \"classnames\";\nimport { withRouter } from \"react-router-dom\";\n\n// application\nimport shopApi from \"../../api/shop\";\nimport Suggestions from \"./Suggestions\";\nimport { Cross20Svg, Search20Svg } from \"../../svg\";\nimport { connect } from \"react-redux\";\n\nconst Search = React.memo((props) => {\n    const { context, className, inputRef, onClose, location, customer } = props;\n    const [cancelFn, setCancelFn] = useState(() => () => {});\n    const [suggestionsOpen, setSuggestionsOpen] = useState(false);\n    const [hasSuggestions, setHasSuggestions] = useState(false);\n    const [suggestedProducts, setSuggestedProducts] = useState([]);\n    const [suggestedItemMalls, setSuggestedItemMalls] = useState([]);\n    const [isLoadingSuggestions, setIsLoadingSuggestions] = useState(true);\n    const [query, setQuery] = useState(\"\");\n\n    const wrapper = useRef(null);\n    const close = useCallback(() => {\n        if (onClose) {\n            onClose();\n        }\n\n        setSuggestionsOpen(false);\n    }, [onClose]);\n\n    // Close suggestions when the location has been changed.\n    useEffect(() => close(), [close, location]);\n\n    // Close suggestions when a click has been made outside component.\n    useEffect(() => {\n        const onGlobalClick = (event) => {\n            if (wrapper.current && !wrapper.current.contains(event.target)) {\n                close();\n            }\n        };\n\n        document.addEventListener(\"mousedown\", onGlobalClick);\n\n        return () => document.removeEventListener(\"mousedown\", onGlobalClick);\n    }, [close]);\n\n    // Cancel previous typing.\n    useEffect(() => () => cancelFn(), [cancelFn]);\n\n    const handleFocus = () => {\n        setSuggestionsOpen(true);\n    };\n\n    const debounceRef = useRef(null);\n\n    const handleChangeQuery = useCallback(\n        (event) => {\n            const query = event.target.value;\n            setQuery(query);\n            if (debounceRef.current) {\n                clearTimeout(debounceRef.current);\n            }\n\n            if (query.length > 2) {\n                setIsLoadingSuggestions(true);\n                setSuggestionsOpen(true);\n                setHasSuggestions(true);\n\n                debounceRef.current = setTimeout(() => {\n                    const options = { limit: 5, page: 1 };\n\n                    shopApi\n                        .getSuggestions(query, options, customer.token)\n                        .then((response) => {\n                            setIsLoadingSuggestions(false);\n                            console.log(\"Search API Response:\", response); // Debug log\n\n                            // Update untuk struktur API baru yang memiliki nested data\n                            const products = response.data?.data?.items || response.data?.items || [];\n                            const itemMalls = response.data?.data?.itemMalls || response.data?.itemMalls || [];\n\n                            console.log(\"Extracted search products:\", products); // Debug log\n                            console.log(\"Extracted search itemMalls:\", itemMalls); // Debug log\n\n                            setSuggestedProducts(products);\n                            setSuggestedItemMalls(itemMalls);\n                        })\n                        .catch((error) => {\n                            console.error(\"Search API Error:\", error);\n                            setIsLoadingSuggestions(false);\n                            setSuggestedProducts([]);\n                            setSuggestedItemMalls([]);\n                        });\n                }, 800);\n            } else {\n                setHasSuggestions(false);\n            }\n        },\n        [customer?.token]\n    );\n    // const handleChangeQuery = (event) => {\n    //     const query = event.target.value;\n    //     setQuery(query);\n\n    //     if (query.length > 2) {\n\n    //       const debounce = (callback, delay) => {\n    //         let timeoutId;\n    //         return (...args) => {\n    //           clearTimeout(timeoutId);\n    //           timeoutId = setTimeout(() => {\n    //             callback.apply(this, args);\n    //           }, delay);\n    //         };\n    //       };\n\n    //       setIsLoadingSuggestions(true);\n    //       const debouncedGetSuggestions = debounce(() => {\n    //         const options = { limit: 5, page: 1 };\n    //         setSuggestionsOpen(true);\n    //         setHasSuggestions(true);\n    //         shopApi.getSuggestions(query, options, customer.token).then((products) => {\n    //           setIsLoadingSuggestions(false);\n    //           setSuggestedProducts(products.data.items);\n    //           setSuggestedToko(products.data.itemMalls);\n    //         });\n    //       }, 300);\n\n    //       debouncedGetSuggestions();\n    //     } else {\n    //       setHasSuggestions(false);\n    //     }\n    //   };\n    const handleBlur = () => {\n        setTimeout(() => {\n            if (!document.activeElement || document.activeElement === document.body) {\n                return;\n            }\n\n            // Close suggestions if the focus received an external element.\n            if (wrapper.current && !wrapper.current.contains(document.activeElement)) {\n                close();\n            }\n        }, 10);\n    };\n\n    // Close suggestions when the Escape key has been pressed.\n    const handleKeyDown = (event) => {\n        // Escape.\n        if (event.which === 27) {\n            close();\n        }\n    };\n\n    const rootClasses = classNames(`search search--location--${context}`, className, {\n        \"search--suggestions-open\": suggestionsOpen,\n        \"search--has-suggestions\": hasSuggestions,\n    });\n\n    const closeButton =\n        context !== \"mobile-header\" ? (\n            \"\"\n        ) : (\n            <button className=\"search__button search__button--type--close\" type=\"button\" onClick={close}>\n                <Cross20Svg />\n            </button>\n        );\n\n    return (\n        <div className={rootClasses} ref={wrapper} onBlur={handleBlur}>\n            <div className=\"search__body\">\n                <form\n                    style={{ borderRadius: \"10px\" }}\n                    className=\"search__form\"\n                    action={`${process.env.PUBLIC_URL}/products/search`}\n                >\n                    <input\n                        style={{ borderTopLeftRadius: \"10px\", borderBottomLeftRadius: \"10px\" }}\n                        ref={inputRef}\n                        onChange={handleChangeQuery}\n                        onFocus={handleFocus}\n                        onKeyDown={handleKeyDown}\n                        value={query}\n                        className=\"search__input\"\n                        name=\"keyword\"\n                        placeholder=\"Cari produk ...\"\n                        aria-label=\"Site search\"\n                        type=\"text\"\n                        autoComplete=\"off\"\n                    />\n                    <button\n                        className=\"search__button search__button--type--submit\"\n                        type=\"submit\"\n                        style={{ borderTopRightRadius: \"10px\", borderBottomRightRadius: \"10px\" }}\n                    >\n                        <Search20Svg />\n                    </button>\n                    {closeButton}\n                    {/* <div className=\"search__border\" /> */}\n                </form>\n\n                <Suggestions\n                    className=\"search__suggestions\"\n                    context={context}\n                    itemMalls={suggestedItemMalls}\n                    products={suggestedProducts}\n                    isLoading={isLoadingSuggestions}\n                    query={query}\n                />\n            </div>\n        </div>\n    );\n});\n\nconst mapStateToProps = (state) => ({ customer: state.customer });\n\nexport default withRouter(connect(mapStateToProps, null)(Search));\n","// react\nimport React, { Component } from \"react\";\n\n// third-party\nimport classNames from \"classnames\";\nimport { connect } from \"react-redux\";\nimport { LazyLoadImage } from \"react-lazy-load-image-component\";\nimport { Link } from \"react-router-dom\";\n\n// application\nimport { Menu18x14Svg, Search20Svg, Cart20Svg } from \"../../svg\";\nimport { mobileMenuOpen } from \"../../store/mobile-menu\";\nimport Indicator from \"../header/Indicator\";\nimport Search from \"../header/Search\";\n\nclass MobileHeader extends Component {\n    constructor(props) {\n        super(props);\n\n        this.state = {\n            searchOpen: false,\n        };\n        this.searchInput = React.createRef();\n    }\n\n    componentDidUpdate(prevProps, prevState) {\n        const { searchOpen } = this.state;\n\n        if (searchOpen && searchOpen !== prevState.searchOpen && this.searchInput.current) {\n            this.searchInput.current.focus();\n        }\n    }\n\n    handleOpenSearch = () => {\n        this.setState(() => ({ searchOpen: true }));\n    };\n\n    handleCloseSearch = () => {\n        this.setState(() => ({ searchOpen: false }));\n    };\n\n    render() {\n        const { openMobileMenu, miniCart, auth } = this.props;\n        const { searchOpen } = this.state;\n        const searchClasses = classNames(\"mobile-header__search\", {\n            \"mobile-header__search--open\": searchOpen,\n        });\n\n        return (\n            <div className=\"mobile-header\">\n                <div className=\"mobile-header__panel\">\n                    <div className=\"container\">\n                        <div className=\"mobile-header__body\">\n                            <button type=\"button\" className=\"mobile-header__menu-button\" onClick={openMobileMenu}>\n                                <Menu18x14Svg />\n                            </button>\n                            <Link to=\"/\" className=\"mobile-header__logo\">\n                                <LazyLoadImage\n                                    width=\"100%\"\n                                    height=\"100%\"\n                                    effect=\"opacity\"\n                                    alt=\"logo siplah\"\n                                    src={`${process.env.PUBLIC_URL}/images/logo.png`}\n                                />\n                            </Link>\n                            <Search\n                                context=\"mobile-header\"\n                                className={searchClasses}\n                                inputRef={this.searchInput}\n                                onClose={this.handleCloseSearch}\n                            />\n                            <div className=\"mobile-header__indicators\">\n                                <Indicator\n                                    className=\"indicator--mobile indicator--mobile-search d-md-none\"\n                                    onClick={this.handleOpenSearch}\n                                    icon={<Search20Svg />}\n                                />\n                                {auth && (\n                                    <Indicator\n                                        className=\"indicator--mobile\"\n                                        url=\"/shop/cart\"\n                                        value={miniCart.totalAllProduct}\n                                        icon={<Cart20Svg />}\n                                    />\n                                )}\n                            </div>\n                        </div>\n                    </div>\n                </div>\n            </div>\n        );\n    }\n}\n\nconst mapStateToProps = (state) => ({\n    cart: state.cart,\n    miniCart: state.miniCart,\n    auth: state.auth,\n});\n\nconst mapDispatchToProps = {\n    openMobileMenu: mobileMenuOpen,\n};\n\nexport default connect(mapStateToProps, mapDispatchToProps)(MobileHeader);\n"],"sourceRoot":""}