(this["webpackJsonpsiplah.eureka"]=this["webpackJsonpsiplah.eureka"]||[]).push([[27],{176:function(e,t,a){"use strict";var s=a(1),i=a.n(s),c=a(34),n=a.n(c);class o extends s.Component{constructor(){super(...arguments),this.setPage=e=>{const{total:t,current:a,onPageChange:s}=this.props;e<1||e>t||e===a||s&&s(e)}}getPages(){const{siblings:e,current:t,total:a}=this.props,s=[],i=Math.max(1,t-e-Math.max(0,e-a+t)),c=Math.min(a,i+2*e);for(let n=i;n<=c;n+=1)s.push(n);return s}render(){var e;const{current:t,total:a}=this.props,s=n()("page-item",{disabled:t<=1}),c=n()("page-item",{disabled:t>=a}),o=this.getPages().map((e,a)=>{const s=n()("page-item",{active:e===t});return i.a.createElement("li",{key:a,className:s,style:{zIndex:0}},i.a.createElement("button",{type:"button",className:"page-link",onClick:()=>this.setPage(e)},e,e===t&&i.a.createElement("span",{className:"sr-only"},"(current)")))});return i.a.createElement("ul",{className:n()("pagination justify-content-center",{white:null===(e=this.props)||void 0===e?void 0:e.white}),style:{zIndex:-1}},i.a.createElement("li",{className:s},i.a.createElement("button",{type:"button",className:"page-link page-link--with-arrow","aria-label":"Previous",onClick:()=>this.setPage(1)},i.a.createElement("i",{className:"fas fa-angle-double-left fa-1x"}))),o,i.a.createElement("li",{className:c},i.a.createElement("button",{type:"button",className:"page-link page-link--with-arrow","aria-label":"Next",onClick:()=>this.setPage(this.props.total)},i.a.createElement("i",{className:"fas fa-angle-double-right"}))))}}o.defaultProps={siblings:1,current:1,total:1},t.a=o},178:function(e,t,a){"use strict";var s=a(4),i=a(7),c=a.n(i);const n={getNewProducts:function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},a=arguments.length>2?arguments[2]:void 0,s=arguments.length>3?arguments[3]:void 0;const i={limit:e.limit||10,page:e.page||1};return a&&(i.keyword=a),e.sort&&(i.sort=e.sort),e.locationName&&(i.filter_province=e.locationName),e.locationId&&(i.filter_locationId=e.locationId),e.categoryId&&(i.filter_categoryId=e.categoryId),e.longitude&&(i.longitude=e.longitude),e.latitude&&(i.latitude=e.latitude),Object.keys(t).forEach(e=>{i["filter_".concat(e)]=t[e]}),fetch("https://siplah.eurekabookhouse.co.id/api/product/shortProduct?".concat(c.a.stringify(i)),{headers:{"Content-Type":"application/json",Authorization:s||""}}).then(e=>e.json())},getStores:function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},a=arguments.length>2?arguments[2]:void 0,i=arguments.length>3?arguments[3]:void 0;const n=Object(s.a)(Object(s.a)({},e),{},{keyword:a});return Object.keys(t).forEach(e=>{n["filter_".concat(e)]=t[e]}),fetch("".concat("https://siplah.eurekabookhouse.co.id/api/","mall?").concat(c.a.stringify(n)),{headers:{"Content-Type":"application/json",Authorization:i||""}}).then(e=>e.json())},getStore:e=>{const t={slug:e};return fetch("".concat("https://siplah.eurekabookhouse.co.id/api/","mall?").concat(c.a.stringify(t))).then(e=>e.json())},addReviewStore:(e,t)=>fetch("".concat("https://siplah.eurekabookhouse.co.id/api/","mall/review"),{method:"post",headers:{"Content-Type":"application/json",Authorization:t},body:JSON.stringify(e)}).then(e=>e.json()),searchStore:e=>fetch("https://siplahstagingapi.eurekagroup.id/penyedia/get-cv?page=1&limit=5&keyword=".concat(e),{method:"get",headers:{"Content-Type":"application/json"}}).then(e=>e.json()),uploadExcel:(e,t)=>{const a=new FormData;return a.append("file",e),a.append("mall_id",t),fetch("https://siplahstagingapi.eurekagroup.id/penyedia/uploadCSV",{method:"POST",body:a}).then(e=>e.json())}};t.a=n},413:function(e,t,a){"use strict";a.r(t);var s=a(4),i=a(1),c=a.n(i);var n={getProvince:()=>fetch("".concat("https://siplah.eurekabookhouse.co.id/api/","master/province")).then(e=>e.json()),getCity:e=>fetch("".concat("https://siplah.eurekabookhouse.co.id/api/","master/city/").concat(e)).then(e=>e.json()),getDistrict:e=>fetch("".concat("https://siplah.eurekabookhouse.co.id/api/","master/district/").concat(e)).then(e=>e.json())},o=a(178),r=a(7),l=a.n(r),d=a(34),p=a.n(d),m=a(39),u=a(205),g=a(176),h=a(26);const y=e=>{const{storeList:t,isLoading:a,state:s,dispatch:n,doHandleChooseStore:o,doChangeProvince:r,doChangeCity:l,doChangeDistrict:d,doChangeKeywordValue:y,layout:b,options:v}=e;let f;const k=function(e,t,a){const s=Object(i.useCallback)(t,[]);return Object(i.useCallback)(t=>{a({type:h.K,option:e,value:s(t)})},[e,s,a])}("page",parseFloat,n),E=p()("products-view",{"products-view--loading":a});return f=void 0===t.items?[]:"modal"===b?t.items.map((e,t)=>c.a.createElement("div",{className:"col-lg-6 mt-3"},c.a.createElement("div",{class:"card ",style:{borderRadius:"12px"}},c.a.createElement("div",{className:"card-body"},c.a.createElement("div",{className:"row"},c.a.createElement("div",{className:"col-5"},c.a.createElement("img",{src:e.image.primary,alt:"",className:"img-contain"})),c.a.createElement("div",{className:"col-7"},c.a.createElement("h5",{className:"font-weight-bold",style:{overflow:"hidden",textOverflow:"ellipsis",wordBreak:" break-all",whiteSpace:"nowrap",marginBottom:"0px",textTransform:"uppercase"}},e.name),c.a.createElement("h6",{className:"mb-0"},e.location.province),c.a.createElement("div",null,c.a.createElement("small",null,e.totalProduct," Produk")),c.a.createElement("button",{className:"btn btn-primary",onClick:()=>o(e)},"Pilih"))))))):t.items.map((e,t)=>c.a.createElement("div",{className:"col-lg-6 mt-3"},c.a.createElement(m.b,{to:"/store/".concat(e.slug),className:"text-dark"},c.a.createElement("div",{class:"card shadow",style:{borderRadius:"12px"}},c.a.createElement("div",{className:"card-body"},c.a.createElement("div",{className:"row"},c.a.createElement("div",{className:"col-5"},c.a.createElement("img",{src:e.image.primary,alt:"",className:"img-contain"})),c.a.createElement("div",{className:"col-7"},c.a.createElement("h5",{style:{color:"rgb(255, 98, 33)"},className:"font-weight-bold text-uppercase"},e.name),c.a.createElement("span",{className:"text-secondary d-block"},e.location.city),c.a.createElement("small",{className:"text-primary"},e.totalProduct," Produk")))))))),c.a.createElement(c.a.Fragment,null,c.a.createElement("div",{className:"row mt-3"},c.a.createElement("div",{className:"col-12"},c.a.createElement("div",{class:"card bg-danger border-0 shadow",style:{borderRadius:"20px"}},c.a.createElement("div",{class:"card-body"},c.a.createElement("div",{className:"row align-items-center"},c.a.createElement("div",{className:"col-12 mb-2"},c.a.createElement("h4",{className:"text-white"},"Cari penyedia sesuai wilayah")),c.a.createElement("div",{className:"col-lg-4 col-sm-6"},c.a.createElement("div",{class:"form-group"},c.a.createElement(u.a,{isClearable:!0,className:"basic-single",classNamePrefix:"select",value:s.selectedProvince,onChange:r,isLoading:s.provinceIsLoading,isSearchable:!0,name:"province",placeholder:"Pilih Provinsi",options:s.provincesList}))),c.a.createElement("div",{className:"col-lg-4 col-sm-6"},c.a.createElement("div",{class:"form-group"},c.a.createElement(u.a,{isClearable:!0,className:"basic-single",classNamePrefix:"select",value:s.selectedCity,onChange:l,isLoading:s.cityIsLoading,isSearchable:!0,name:"city",isDisabled:null==s.citiesList,placeholder:"Pilih Kabupaten/Kota",options:s.citiesList}))),c.a.createElement("div",{className:"col-lg-4 col-sm-6 "},c.a.createElement("div",{class:"form-group"},c.a.createElement(u.a,{isClearable:!0,className:"basic-single",classNamePrefix:"select",value:s.selectedDistrict,onChange:d,isLoading:s.districtIsLoading,isSearchable:!0,name:"district",isDisabled:null==s.districtsList,placeholder:"Pilih Kecamatan",options:s.districtsList}))),c.a.createElement("div",{className:"col-12"},c.a.createElement("div",{class:"form-group"},c.a.createElement("input",{type:"text",class:"form-control",value:s.keyword,onChange:y,placeholder:"Cari Nama Toko ...",style:{borderRadius:"10px"}})))))))),c.a.createElement("div",{className:E},c.a.createElement("div",{className:"products-view__loader"}),f.length>0?c.a.createElement(c.a.Fragment,null,c.a.createElement("div",{class:"row"},f),c.a.createElement("div",{className:"products-view__pagination"},c.a.createElement(g.a,{white:!0,current:v.page||t.page,siblings:2,total:t.pages,onPageChange:k}))):c.a.createElement("div",{className:"row mt-3"},c.a.createElement("div",{className:"col-12"},c.a.createElement("h3",{className:"text-center"},"Maaf, Toko Tidak Ditemukan")))))};y.defaultPropTypes={isLoading:!0};var b=y,v=a(40);function f(e){const t=l.a.parse(e),a={page:1,limit:10};return"string"===typeof t.page&&(a.page=parseFloat(t.page)),a}function k(e){const t=l.a.parse(e),a={};return Object.keys(t).forEach(e=>{const s=e.match(/^filter_([-_A-Za-z0-9]+)$/);if(!s)return;const i=s[1];a[i]=t[e]}),a}function E(e){const t=l.a.parse(e);let a;return"string"===typeof t.keyword&&(a=t.keyword),a}const j={provinceIsLoading:!0,provincesList:[],selectedProvince:null,cityIsLoading:!1,citiesList:[],selectedCity:null,districtIsLoading:!1,districtsList:[],selectedDistrict:null,filters:{},options:{},storeList:[],storeIsLoading:!0,keyword:null};function w(e,t){switch(t.type){case h.C:return Object(s.a)(Object(s.a)({},e),{},{provinceIsLoading:!0});case h.D:return Object(s.a)(Object(s.a)({},e),{},{provinceIsLoading:!1,provincesList:t.provincesList});case h.I:return Object(s.a)(Object(s.a)({},e),{},{selectedProvince:t.selectedProvince,citiesList:null,districtsList:null,selectedCity:null,selectedDistrict:null,filters:{province:e.filters.province}});case h.c:return Object(s.a)(Object(s.a)({},e),{},{cityIsLoading:!0});case h.d:return Object(s.a)(Object(s.a)({},e),{},{cityIsLoading:!1,citiesList:t.citiesList});case h.G:return Object(s.a)(Object(s.a)({},e),{},{selectedCity:t.selectedCity,selectedDistrict:null,filters:{province:e.filters.province,city:e.filters.city}});case h.o:return Object(s.a)(Object(s.a)({},e),{},{districtIsLoading:!0});case h.p:return Object(s.a)(Object(s.a)({},e),{},{districtIsLoading:!1,districtsList:t.districtsList});case h.H:return Object(s.a)(Object(s.a)({},e),{},{selectedDistrict:t.selectedDistrict});case h.J:return Object(s.a)(Object(s.a)({},e),{},{options:Object(s.a)(Object(s.a)({},e.options),{},{page:1}),filters:Object(s.a)(Object(s.a)({},e.filters),{},{[t.filter]:t.value})});case h.E:return Object(s.a)(Object(s.a)({},e),{},{storeIsLoading:!0});case h.F:return Object(s.a)(Object(s.a)({},e),{},{storeIsLoading:!1,storeList:t.storeList});case h.K:return Object(s.a)(Object(s.a)({},e),{},{options:Object(s.a)(Object(s.a)({},e.options),{},{page:1,[t.option]:t.value})});case h.L:return Object(s.a)(Object(s.a)({},e),{},{keyword:t.keyword,options:Object(s.a)(Object(s.a)({},e.options),{},{page:1})});default:throw new Error}}function N(e){const[t,a,i]=[f(c=window.location.search),k(c),E(c)];var c;return Object(s.a)(Object(s.a)({},e),{},{options:t,filters:a,keyword:i})}const O=e=>{const[t,a]=Object(i.useReducer)(w,j,N),{layout:r,doHandleChooseStore:d,customer:p}=e,m=l.a.parse(window.location.search),u=Object(i.useRef)(null);Object(i.useEffect)(()=>{const e=function(e,t,a){const s={keyword:a};return 1!==e.page&&(s.page=e.page),Object.keys(t).filter(e=>"category"!==e&&!!t[e]).forEach(e=>{s["filter_".concat(e)]=t[e]}),l.a.stringify(s,{encode:!1})}(t.options,t.filters),a="".concat(window.location.pathname).concat(e?"?":"").concat(e);window.history.replaceState(null,"",a)},[t.options,t.filters]),Object(i.useEffect)(()=>{m.keyword!==t.keyword&&a({type:h.L,keyword:m.keyword})},[m.keyword]),Object(i.useEffect)(()=>{if(!t.keyword)return a({type:h.E}),void o.a.getStores(t.options,Object(s.a)({},t.filters),void 0,null===p||void 0===p?void 0:p.token).then(e=>{const{data:t}=e;a({type:h.F,storeList:t})})},[t.options,t.filters]),Object(i.useEffect)(()=>{a({type:h.C}),n.getProvince().then(e=>{const{status:s,data:i}=e,c=i.items.map(e=>({value:e.id,label:e.name})),n=c.find(e=>e.value===t.filters.province);200===s.code&&(void 0!==n&&g(n),a({type:h.D,provincesList:c}))})},[t.filters.province]);const g=e=>{null!==e?(a({type:h.I,selectedProvince:e}),a({type:h.J,filter:"province",value:e.value}),a({type:h.c}),n.getCity(e.value).then(e=>{const{status:s,data:i}=e,c=i.items.city.map(e=>({label:e.name,value:e.id})),n=c.find(e=>e.value===t.filters.city);200===s.code&&(void 0!==n&&y(n),a({type:h.d,citiesList:c}))})):(a({type:h.I,selectedProvince:e}),a({type:h.J,filter:"province",value:e}))},y=e=>{null!==e?(a({type:h.G,selectedCity:e}),a({type:h.J,filter:"city",value:e.value}),a({type:h.o}),n.getDistrict(e.value).then(e=>{const{status:s,data:i}=e;if(200===s.code){const e=i.items.district.map(e=>({value:e.id,label:e.name})),s=e.find(e=>e.value===t.filters.district);void 0!==s&&v(s),a({type:h.p,districtsList:e})}})):(a({type:h.G,selectedCity:e}),a({type:h.J,filter:"city",value:e}),a({type:h.p,districtsList:null}))},v=e=>{null!==e?(a({type:h.J,filter:"district",value:e.value}),a({type:h.H,selectedDistrict:e})):(a({type:h.J,filter:"district",value:e}),a({type:h.H,selectedDistrict:e}))};return c.a.createElement("section",{className:"py-4",style:{backgroundColor:"rgb(0,129,199)"}},c.a.createElement("div",{className:"container"},"default"===r&&c.a.createElement("div",{className:"row d-none d-md-none d-lg-block"},c.a.createElement("div",{className:"col-xl-12"},c.a.createElement("div",{className:"card bg-transparent border-0 text-white",style:{borderRadius:"15px"}},c.a.createElement("div",{className:"card-body p-0"},c.a.createElement("h5",{className:"card-title"},"Terdapat Banyak Penyedia"),c.a.createElement("p",{className:"card-text"},"Penyedia adalah subjek dalam rantai pemenuhan keperluan sekolah. Penyedia menyediakan dan melayani sekolah yang melakukan pemesanan pada sistem SIPLah sesuai dengan kebijakan yang berlaku. Penyedia tunduk pada kebijakan produk maupun kebijakan privasi. Total Penyedia berasal dari penyedia yang sudah dinyatakan lengkap persyaratan (proses Approve) menjadi penyedia SIPLah Kemdikbud Eureka.")))),c.a.createElement("div",{className:"col-xl-12 mt-3"},c.a.createElement("div",{className:"card text-white shadow",style:{background:"url(https://siplah.eurekabookhouse.co.id/assets/front/images/banner/banner-mall-page.jpg) no-repeat center center",height:"280px",borderRadius:"15px",border:"none"}},c.a.createElement("div",{className:"card-body "},c.a.createElement("h5",null,"Penyedia Beragam"),c.a.createElement("h3",null,"Berbagai penyedia di seluruh pelosok indonesia"),c.a.createElement("h6",null,"Temukan disekitar anda"))))),c.a.createElement(b,{isLoading:t.storeIsLoading,storeList:t.storeList,state:t,layout:r,doHandleChooseStore:d,options:t.options,doChangeCity:y,doChangeDistrict:v,doChangeProvince:g,dispatch:a,doChangeKeywordValue:e=>{const{value:i}=e.target;a({type:h.L,keyword:""!==i?i:void 0}),u.current&&clearTimeout(u.current),u.current=setTimeout(()=>{a({type:h.E}),o.a.getStores(t.options,Object(s.a)({},t.filters),i,null===p||void 0===p?void 0:p.token).then(e=>{a({type:h.F,storeList:e.data})})},2e3)}})))};O.defaultPropTypes={layout:"default"};t.default=Object(v.b)(e=>({customer:e.customer}),null)(O)}}]);
//# sourceMappingURL=27.48957a44.chunk.js.map