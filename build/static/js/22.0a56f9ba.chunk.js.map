{"version":3,"sources":["api/store.js","services/randomString.js","components/shop/ShopProducts.jsx","../node_modules/reactstrap/es/ModalFooter.js","components/shared/ModalChat.jsx","components/shared/ModalMallReviews.jsx","components/store/Store.jsx"],"names":["storeApi","getNewProducts","options","arguments","length","undefined","filters","keyword","token","params","limit","page","sort","locationName","filter_province","locationId","filter_locationId","categoryId","filter_categoryId","longitude","latitude","Object","keys","forEach","slug","fetch","qs","stringify","headers","Authorization","then","res","json","getStores","getStore","addReviewStore","req","method","body","JSON","searchStore","uploadExcel","file","mall_id","formdata","FormData","append","createRandomString","dt","Date","getTime","uuid","replace","c","r","Math","random","floor","toString","String","parseQueryOptions","location","query","queryString","parse","optionValues","from","fromProductId","parseFloat","parseQueryFilters","filterValues","param","mr","match","filterSlug","initialState","init","categoryIsLoading","category","productsListIsLoading","productsList","reducer","state","action","type","option","value","filter","Error","window","search","ShopProducts","props","columns","viewMode","sidebarPosition","store","forAct","doHandleChooseProduct","mainProduct","customer","doHandleFetchCompareList","offcanvas","dispatch","useReducer","content","useParams","useEffect","x","encode","buildQuery","pathname","history","replaceState","canceled","shopApi","getProducts","result","data","item","categoryName","React","createElement","BlockLoader","productsView","ProductsView","isLoading","sorts","layout","grid","sidebarComponent","CategorySidebar","CategorySidebarItem","WidgetFilters","title","values","style","position","top","left","className","alt","src","image","width","opacity","display","height","transition","backfaceVisibility","transform","msTransform","textAlign","background","padding","color","name","priceCurrencyFormat","qty","class","sidebar","Fragment","defaultProps","connect","sidebarState","mapDispatchToProps","sidebarClose","propTypes","tag","tagPropType","PropTypes","string","cssModule","object","ModalFooter","Tag","attributes","_objectWithoutPropertiesLoose","classes","mapToCssModules","classNames","_extends","addChatList","isOpen","toggle","messages","setMessages","useState","message","setMessage","room","setRoom","doHandleSetMessages","useCallback","setRef","node","scrollIntoView","smoth","id","fire","database","ref","on","snapshot","val","set","redirect","response","text","myHeaders","Headers","Modal","size","overflowY","ModalHeader","ModalBody","maxHeight","overflowX","map","index","lastMessage","key","role","time","whiteSpace","sellerName","customerName","wordWrap","rows","resize","onChange","e","target","autoFocus","placeholder","onClick","doHandleSendMessage","async","ModalMallReviews","storeId","setState","items","setOptions","getMallReviews","reviewList","review","Rating","rate","createdAt","Pagination","onPageChange","current","siblings","total","pages","storeIsLoading","FETCH_DETAIL_STORE","FETCH_DETAIL_STORE_SUCCESS","auth","setIsOpen","openReviews","setOpenReviews","status","code","doOpenModal","Link","to","backgroundColor","Helmet","theme","borderRadius","maxWidth","paddingTop","overflow","borderTopLeftRadius","borderTopRightRadius","borderBottom","header","objectFit","borderBottomLeftRadius","borderBottomRightRadius","primary","province","totalProduct","pic","phone","address","email","averageRating","cursor","totalRating","ModalChat"],"mappings":"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","file":"static/js/22.0a56f9ba.chunk.js","sourcesContent":["import qs from \"query-string\";\nconst storeApi = {\n    getNewProducts: (options = {}, filters = {}, keyword, token) => {\n        const params = {\n            limit: options.limit || 10,\n            page: options.page || 1,\n        };\n\n        // Add keyword to params if provided\n        if (keyword) {\n            params.keyword = keyword;\n        }\n\n        // Add sort option if provided\n        if (options.sort) {\n            params.sort = options.sort;\n        }\n\n        // Add location filters if provided\n        if (options.locationName) {\n            params.filter_province = options.locationName;\n        }\n        if (options.locationId) {\n            params.filter_locationId = options.locationId;\n        }\n        if (options.categoryId) {\n            params.filter_categoryId = options.categoryId;\n        }\n        if (options.longitude) {\n            params.longitude = options.longitude;\n        }\n        if (options.latitude) {\n            params.latitude = options.latitude;\n        }\n\n        // Add filters to params\n        Object.keys(filters).forEach((slug) => {\n            params[`filter_${slug}`] = filters[slug];\n        });\n\n        return fetch(`https://siplah.eurekabookhouse.co.id/api/product/shortProduct?${qs.stringify(params)}`, {\n            headers: {\n                \"Content-Type\": \"application/json\",\n                Authorization: token || \"\",\n            },\n        }).then((res) => res.json());\n    },\n    getStores: (options = {}, filters = {}, keyword, token) => {\n        const params = { ...options, keyword };\n\n        Object.keys(filters).forEach((slug) => {\n            params[`filter_${slug}`] = filters[slug];\n        });\n        return fetch(`${process.env.REACT_APP_URL_SIPLAH}mall?${qs.stringify(params)}`, {\n            headers: {\n                \"Content-Type\": \"application/json\",\n                Authorization: token || \"\",\n            },\n        }).then((res) => res.json());\n    },\n    getStore: (slug) => {\n        const params = { slug };\n        return fetch(`${process.env.REACT_APP_URL_SIPLAH}mall?${qs.stringify(params)}`).then((res) => res.json());\n    },\n\n    addReviewStore: (req, token) => {\n        return fetch(`${process.env.REACT_APP_URL_SIPLAH}mall/review`, {\n            method: \"post\",\n            headers: { \"Content-Type\": \"application/json\", Authorization: token },\n            body: JSON.stringify(req),\n        }).then((res) => res.json());\n    },\n    searchStore: (keyword) => {\n        return fetch(`https://siplahstagingapi.eurekagroup.id/penyedia/get-cv?page=1&limit=5&keyword=${keyword}`, {\n            method: \"get\",\n            headers: { \"Content-Type\": \"application/json\" },\n        }).then((res) => res.json());\n    },\n    uploadExcel: (file, mall_id) => {\n        const formdata = new FormData();\n        formdata.append(\"file\", file);\n        formdata.append(\"mall_id\", mall_id);\n        return fetch(`https://siplahstagingapi.eurekagroup.id/penyedia/uploadCSV`, {\n            method: \"POST\",\n            body: formdata,\n        }).then((res) => res.json());\n    },\n};\n\nexport default storeApi;\n","/*eslint no-mixed-operators: \"off\"*/\n/*eslint eqeqeq: \"off\"*/\n/*eslint no-new-wrappers: \"off\"*/\nfunction createRandomString() {\n    var dt = new Date().getTime();\n    var uuid = 'xxxxxxxx-xxxx-4xxx-yxxx-xxxxxxxxxxxx'.replace(/[xy]/g, function (c) {\n        var r = (dt + Math.random() * 16) % 16 | 0;\n        dt = Math.floor(dt / 16);\n        return (c == 'x' ? r : (r & 0x3 | 0x8)).toString(16);\n    });\n    return new String(uuid);\n\n}\n\n\nexport default createRandomString","// react\nimport React, { useEffect, useReducer } from \"react\";\nimport { useParams } from \"react-router-dom\";\n\n// third-party\nimport PropTypes from \"prop-types\";\nimport queryString from \"query-string\";\nimport { connect } from \"react-redux\";\n\n// application\nimport BlockLoader from \"../blocks/BlockLoader\";\nimport CategorySidebar from \"./CategorySidebar\";\nimport CategorySidebarItem from \"./CategorySidebarItem\";\nimport ProductsView from \"./ProductsView\";\nimport shopApi from \"../../api/shop\";\nimport WidgetFilters from \"../widgets/WidgetFilters\";\nimport { sidebarClose } from \"../../store/sidebar\";\n\nfunction parseQueryOptions(location) {\n    const query = queryString.parse(location);\n\n    const optionValues = {\n        page: 1,\n        limit: 6,\n        from: \"\",\n        fromProductId: \"\",\n    };\n\n    if (typeof query.page === \"string\") {\n        optionValues.page = parseFloat(query.page);\n    }\n    if (typeof query.limit === \"string\") {\n        optionValues.limit = parseFloat(query.limit);\n    }\n    if (typeof query.sort === \"string\") {\n        optionValues.sort = query.sort;\n    }\n    if (typeof query.keyword === \"string\") {\n        optionValues.keyword = query.keyword;\n    }\n    if (typeof query.from === \"string\") {\n        optionValues.from = query.from;\n    }\n    if (typeof query.fromProductId === \"string\") {\n        optionValues.fromProductId = query.fromProductId;\n    }\n    if (typeof query.categoryId === \"string\") {\n        optionValues.categoryId = query.categoryId;\n    }\n\n    return optionValues;\n}\n\nfunction parseQueryFilters(location) {\n    const query = queryString.parse(location);\n    const filterValues = {};\n\n    Object.keys(query).forEach((param) => {\n        const mr = param.match(/^filter_([-_A-Za-z0-9]+)$/);\n\n        if (!mr) {\n            return;\n        }\n\n        const filterSlug = mr[1];\n\n        filterValues[filterSlug] = query[param];\n    });\n\n    return filterValues;\n}\n\nfunction parseQuery(location) {\n    return [parseQueryOptions(location), parseQueryFilters(location)];\n}\n\nfunction buildQuery(options, filters) {\n    const params = {};\n\n    if (options.page !== 1) {\n        params.page = options.page;\n    }\n\n    if (options.limit !== 6) {\n        params.limit = options.limit;\n    }\n\n    if (options.sort !== \"\") {\n        params.sort = options.sort;\n    }\n    if (options.keyword !== \"\") {\n        params.keyword = options.keyword;\n    }\n\n    if (options.from !== \"\") {\n        params.from = options.from;\n    }\n    if (options.fromProductId !== \"\") {\n        params.fromProductId = options.fromProductId;\n    }\n\n    if (options.categoryId !== \"\") {\n        params.categoryId = options.categoryId;\n    }\n\n    Object.keys(filters)\n        .filter((x) => !!filters[x])\n        .forEach((filterSlug) => {\n            params[`filter_${filterSlug}`] = filters[filterSlug];\n        });\n\n    return queryString.stringify(params, { encode: false });\n}\n\nconst initialState = {\n    init: false,\n    /**\n     * Indicates that the category is loading.\n     */\n    categoryIsLoading: true,\n    /**\n     * Category object.\n     */\n    category: null,\n    /**\n     * Indicates that the products list is loading.\n     */\n    productsListIsLoading: true,\n    /**\n     * Products list.\n     */\n    productsList: null,\n    /**\n     * Products list options.\n     *\n     * options.page:  number - Current page.\n     * options.limit: number - Items per page.\n     * options.sort:  string - Sort algorithm.\n     */\n    options: {},\n    /**\n     * Products list filters.\n     *\n     * filters[FILTER_SLUG]: string - filter value.\n     */\n    filters: {},\n    // categoryName: \"\",\n    // categoryId: \"\",\n};\n\nfunction reducer(state, action) {\n    switch (action.type) {\n        case \"FETCH_CATEGORY_SUCCESS\":\n            return {\n                ...state,\n                init: true,\n                categoryIsLoading: false,\n                category: action.category,\n            };\n        case \"FETCH_PRODUCTS_LIST\":\n            return { ...state, productsListIsLoading: true };\n        case \"FETCH_PRODUCTS_LIST_SUCCESS\":\n            return { ...state, productsListIsLoading: false, productsList: action.productsList };\n        case \"SET_OPTION_VALUE\":\n            return {\n                ...state,\n                options: { ...state.options, page: 1, [action.option]: action.value },\n            };\n        case \"SET_FILTER_VALUE\":\n            return {\n                ...state,\n                options: { ...state.options, page: 1 },\n                filters: { ...state.filters, [action.filter]: action.value },\n            };\n        case \"RESET_FILTERS\":\n            return { ...state, options: { page: 1, limit: 6 }, filters: {} };\n        case \"RESET\":\n            return state.init ? initialState : state;\n        default:\n            throw new Error();\n    }\n}\n\nfunction init(state) {\n    const [options, filters] = parseQuery(window.location.search);\n\n    return { ...state, options, filters };\n}\n\nfunction ShopProducts(props) {\n    const {\n        columns,\n        viewMode,\n        sidebarPosition,\n        store,\n        forAct,\n        doHandleChooseProduct,\n        mainProduct,\n        customer,\n        doHandleFetchCompareList,\n    } = props;\n    const offcanvas = columns === 3 ? \"mobile\" : \"always\";\n    const [state, dispatch] = useReducer(reducer, initialState, init);\n    let { slug, categoryId } = useParams();\n\n    // Replace current url.\n    useEffect(() => {\n        const query = buildQuery(state.options, state.filters);\n\n        const location = `${window.location.pathname}${query ? \"?\" : \"\"}${query}`;\n        window.history.replaceState(null, \"\", location);\n    }, [state.options, state.filters]);\n\n    if (store !== \"\" && store !== undefined) {\n        slug = store;\n    }\n    // Load products.\n    useEffect(() => {\n        let canceled = false;\n        dispatch({ type: \"FETCH_PRODUCTS_LIST\" });\n        shopApi\n            .getProducts({ ...state.options }, { ...state.filters }, slug, categoryId, customer.token)\n            .then((result) => {\n                const { data } = result;\n                if (canceled) {\n                    return;\n                }\n\n                if (!forAct) {\n                    dispatch({\n                        type: \"FETCH_PRODUCTS_LIST_SUCCESS\",\n                        productsList: { ...data, filters: data.filters.filter((item) => item.type !== \"category\") },\n                    });\n                } else {\n                    dispatch({ type: \"FETCH_PRODUCTS_LIST_SUCCESS\", productsList: data });\n                }\n            });\n\n        return () => {\n            canceled = true;\n        };\n        //eslint-disable-next-line\n    }, [dispatch, slug, store, categoryId, state.categoryName, state.options, state.filters, customer.token]);\n\n    if (state.productsListIsLoading && !state.productsList) {\n        return <BlockLoader />;\n    }\n\n    let content;\n\n    // if (state.category) {\n    //     getCategoryParents(state.category).forEach((parent) => {\n    //         breadcrumb.push({ title: parent.name, url: url.category(parent) });\n    //     });\n\n    //     breadcrumb.push({ title: state.category.name, url: url.category(state.category) });\n\n    //     pageTitle = state.category.name;\n    // }\n\n    const productsView = (\n        <ProductsView\n            forAct={forAct}\n            doHandleChooseProduct={doHandleChooseProduct}\n            isLoading={state.productsListIsLoading}\n            productsList={state.productsList}\n            mainProduct={mainProduct}\n            sorts={state.productsList.sorts}\n            options={state.options}\n            filters={state.filters}\n            dispatch={dispatch}\n            layout={viewMode}\n            doHandleFetchCompareList={doHandleFetchCompareList}\n            grid={`grid-${columns}-${columns > 3 ? \"full\" : \"sidebar\"}`}\n            offcanvas={offcanvas}\n        />\n    );\n\n    let sidebarComponent = (\n        <CategorySidebar offcanvas={offcanvas}>\n            <CategorySidebarItem>\n                <WidgetFilters\n                    title=\"Filter\"\n                    offcanvas={offcanvas}\n                    filters={state.productsList.filters}\n                    values={state.filters}\n                    dispatch={dispatch}\n                />\n            </CategorySidebarItem>\n        </CategorySidebar>\n    );\n\n    if (forAct === \"compare\") {\n        sidebarComponent = (\n            <CategorySidebar offcanvas={offcanvas} style={{ position: \"sticky\", top: \"10px\", left: 0 }}>\n                <div className=\"card\">\n                    <div className=\"card-body\">\n                        <div className=\"row\">\n                            <div className=\"col-12\">\n                                <img\n                                    alt=\"\"\n                                    src={mainProduct.image}\n                                    style={{\n                                        width: \"100%\",\n                                        opacity: 0.7,\n                                        display: \"block\",\n                                        height: \"auto\",\n                                        transition: \".5s ease\",\n                                        backfaceVisibility: \"hidden\",\n                                    }}\n                                />\n                            </div>\n                            <div\n                                className=\"col-12 text-center\"\n                                style={{\n                                    position: \"absolute\",\n                                    top: \" 50%\",\n                                    left: \" 50%\",\n                                    transform: \"translate(-50%, -50%)\",\n                                    msTransform: \"translate(-50%, -50%)\",\n                                    textAlign: \"center\",\n                                    background: \"rgba(0,0,0,.5)\",\n                                    padding: \"17px\",\n                                    color: \"white\",\n                                }}\n                            >\n                                <h5>{mainProduct.name}</h5>\n                                <h6>{mainProduct.priceCurrencyFormat}</h6>\n                                <h6>Jumlah : {mainProduct.qty}</h6>\n                                <span class=\"badge badge-primary\">Barang Yang Dibandingkan</span>\n                            </div>\n                        </div>\n                    </div>\n                </div>\n            </CategorySidebar>\n        );\n    }\n\n    if (columns > 4) {\n        content = (\n            <div className=\"container mt-5\">\n                <div className=\"block\">{productsView}</div>\n                {sidebarComponent}\n            </div>\n        );\n    } else {\n        const sidebar = <div className=\"shop-layout__sidebar\">{sidebarComponent}</div>;\n\n        content = (\n            <div style={{ background: \"rgb(236,236,237)\" }} className=\"pt-5\">\n                <div className=\"container\">\n                    <div className={`shop-layout shop-layout--sidebar--${sidebarPosition}`}>\n                        {sidebarPosition === \"start\" && sidebar}\n                        <div className=\"shop-layout__content\">\n                            <div className=\"block\">{productsView}</div>\n                        </div>\n                        {sidebarPosition === \"end\" && sidebar}\n                    </div>\n                </div>\n            </div>\n        );\n    }\n\n    return <React.Fragment>{content}</React.Fragment>;\n}\n\nShopProducts.propTypes = {\n    /**\n     * Category slug.\n     */\n    categorySlug: PropTypes.string,\n    /**\n     * number of product columns (default: 3)\n     */\n    columns: PropTypes.number,\n    /**\n     * mode of viewing the list of products (default: 'grid')\n     * one of ['grid', 'grid-with-features', 'list']\n     */\n    viewMode: PropTypes.oneOf([\"grid\", \"grid-with-features\", \"list\"]),\n    /**\n     * sidebar position (default: 'start')\n     * one of ['start', 'end']\n     * for LTR scripts \"start\" is \"left\" and \"end\" is \"right\"\n     */\n    sidebarPosition: PropTypes.oneOf([\"start\", \"end\"]),\n    forAct: PropTypes.string,\n};\n\nShopProducts.defaultProps = {\n    columns: 3,\n    viewMode: \"grid\",\n    sidebarPosition: \"start\",\n};\n\nconst mapStateToProps = (state) => ({\n    sidebarState: state.sidebar,\n    page: state.category,\n    customer: state.customer,\n});\n\nconst mapDispatchToProps = () => ({\n    sidebarClose,\n});\n\nexport default connect(mapStateToProps, mapDispatchToProps)(ShopProducts);\n","import _extends from \"@babel/runtime/helpers/esm/extends\";\nimport _objectWithoutPropertiesLoose from \"@babel/runtime/helpers/esm/objectWithoutPropertiesLoose\";\nimport React from 'react';\nimport PropTypes from 'prop-types';\nimport classNames from 'classnames';\nimport { mapToCssModules, tagPropType } from './utils';\nvar propTypes = {\n  tag: tagPropType,\n  className: PropTypes.string,\n  cssModule: PropTypes.object\n};\nvar defaultProps = {\n  tag: 'div'\n};\n\nvar ModalFooter = function ModalFooter(props) {\n  var className = props.className,\n      cssModule = props.cssModule,\n      Tag = props.tag,\n      attributes = _objectWithoutPropertiesLoose(props, [\"className\", \"cssModule\", \"tag\"]);\n\n  var classes = mapToCssModules(classNames(className, 'modal-footer'), cssModule);\n  return React.createElement(Tag, _extends({}, attributes, {\n    className: classes\n  }));\n};\n\nModalFooter.propTypes = propTypes;\nModalFooter.defaultProps = defaultProps;\nexport default ModalFooter;","import React, { useCallback, useEffect, useState } from \"react\";\nimport { connect } from \"react-redux\";\nimport { Modal, ModalBody, ModalHeader } from \"reactstrap\";\nimport classNames from \"classnames\";\nimport { addChatList } from \"../../store/chat\";\nimport fire from \"../../services/fire\";\nimport createRandomString from \"../../services/randomString\";\n\nconst ModalChat = (props) => {\n    const { isOpen, toggle, store, customer } = props;\n    const [messages, setMessages] = useState([]);\n    const [message, setMessage] = useState(\"\");\n    const [room, setRoom] = useState(\"\");\n\n    const doHandleSetMessages = useCallback((messages) => {\n        setMessages(messages);\n    }, []);\n\n    const setRef = useCallback((node) => {\n        if (node) {\n            node.scrollIntoView({ smoth: true });\n        }\n    }, []);\n\n    // get room\n    useEffect(() => {\n        fetch(`${process.env.REACT_APP_API_CHAT}room?customerId=${customer.id}&sellerId=${store.id}`)\n            .then((res) => res.json())\n            .then((res) => {\n                fire.database()\n                    .ref(`/contact/customer/${res.room}`)\n                    .on(\"value\", (snapshot) => {\n                        if (snapshot.val() === null) {\n                            fire.database().ref(`/contact/customer/${res.room}`).set(`${createRandomString()}`);\n                        }\n                    });\n                setRoom(res.room);\n            });\n        return () => {};\n        // eslint-disable-next-line react-hooks/exhaustive-deps\n    }, [customer.id, store.id]);\n\n    // read chat\n    useEffect(() => {\n        if (customer.id === undefined && store.id === undefined) return;\n\n        var formdata = new FormData();\n        formdata.append(\"customerId\", customer.id);\n        formdata.append(\"seller_id\", store.id);\n        formdata.append(\"role\", \"seller\");\n\n        var requestOptions = {\n            method: \"POST\",\n            body: formdata,\n            redirect: \"follow\",\n        };\n\n        fetch(`${process.env.REACT_APP_URL_SIPLAH}backendseller/Mychat/readChat`, requestOptions).then((response) => {\n            fire.database().ref(`/unread-message/customer/${customer.id}`).set(`${createRandomString()}`);\n            response.text();\n        });\n\n        // eslint-disable-next-line react-hooks/exhaustive-deps\n    }, [store.id]);\n\n    //get message\n    useEffect(() => {\n        fire.database()\n            .ref(`/contact/customer/${room}`)\n            .on(\"value\", (snapshot) => {\n                fetch(`${process.env.REACT_APP_API_CHAT}message?customerId=${customer.id}&sellerId=${store.id}`)\n                    .then((res) => res.json())\n                    .then((res) => {\n                        doHandleSetMessages(res);\n                    });\n            });\n    }, [store.id, customer.id, doHandleSetMessages, room]);\n\n    useEffect(() => {\n        let canceled = false;\n        if (canceled) return;\n        var myHeaders = new Headers();\n\n        var formdata = new FormData();\n        formdata.append(\"customerId\", customer.id);\n        formdata.append(\"seller_id\", store.id);\n\n        var requestOptions = {\n            method: \"POST\",\n            headers: myHeaders,\n            body: formdata,\n            redirect: \"follow\",\n        };\n\n        fetch(`${process.env.REACT_APP_URL_SIPLAH}backendseller/Mychat/checkRoom`, requestOptions).then((response) => {\n            response.text();\n        });\n\n        return () => {\n            canceled = true;\n        };\n        // eslint-disable-next-line react-hooks/exhaustive-deps\n    }, []);\n\n    const doHandleSendMessage = () => {\n        if (message !== \"\") {\n            var myHeaders = new Headers();\n\n            var formdata = new FormData();\n            formdata.append(\"customerId\", customer.id);\n            formdata.append(\"seller_id\", store.id);\n            formdata.append(\"message\", message);\n            formdata.append(\"role\", \"customer\");\n\n            var requestOptions = {\n                method: \"POST\",\n                headers: myHeaders,\n                body: formdata,\n                redirect: \"follow\",\n            };\n\n            fetch(`${process.env.REACT_APP_URL_SIPLAH}backendseller/mychat/addchattoRoom`, requestOptions).then(\n                async (response) => {\n                    fire.database().ref(`/unread-message/seller/${store.id}`).set(`${createRandomString()}`);\n                    fire.database().ref(`/contact/seller/${room}`).set(`${createRandomString()}`);\n                    setMessages([...messages, await response.json()]);\n                    setMessage(\"\");\n                }\n            );\n        }\n    };\n\n    return (\n        <Modal isOpen={isOpen} toggle={toggle} size=\"xl\" style={{ overflowY: \"hidden\" }}>\n            <ModalHeader toggle={toggle}>\n                <h6>{store.name}</h6>\n            </ModalHeader>\n            <ModalBody>\n                <div className=\"col-xl-12 col-lg-12 col-md-12 col-sm-12 col-12\">\n                    <div className=\"chat-container\">\n                        <ul\n                            className=\"chat-box chatContainerScroll\"\n                            style={{\n                                maxHeight: \"40vh\",\n                                overflowY: \"auto\",\n                                overflowX: \"hidden\",\n                            }}\n                        >\n                            {messages.map((item, index) => {\n                                const lastMessage = messages.length - 1 === index;\n                                return (\n                                    <>\n                                        <li\n                                            key={index}\n                                            ref={lastMessage ? setRef : null}\n                                            className={classNames(\"\", {\n                                                \"chat-left\": item.role === \"seller\",\n                                                \"chat-right mr-2\": item.role === \"customer\",\n                                            })}\n                                        >\n                                            {item.role === \"customer\" && <div className=\"chat-hour\">{item.time}</div>}\n                                            <div\n                                                // style={{ background: \"#3e5b8a\" }}\n                                                className={classNames(\"chat-text text-light\", {\n                                                    \"bg-info\": item.role === \"seller\",\n                                                    \"bg-secondary\": item.role === \"customer\",\n                                                })}\n                                                style={{ whiteSpace: \"pre-line\" }}\n                                            >\n                                                <h6 className=\"font-weight-bold mb-1 text-capitalize\">\n                                                    {item.role === \"seller\" ? item.sellerName : item.customerName}\n                                                </h6>\n                                                <span style={{ wordWrap: \"anywhere\" }}>{item.text}</span>\n                                            </div>\n                                            {item.role === \"seller\" && <div className=\"chat-hour\">{item.time}</div>}\n                                        </li>\n                                    </>\n                                );\n                            })}\n                        </ul>\n                        <div className=\"form-group mt-3 mb-1\">\n                            <textarea\n                                className=\"form-control\"\n                                rows={3}\n                                style={{ resize: \"none\" }}\n                                value={message}\n                                onChange={(e) => setMessage(e.target.value)}\n                                autoFocus\n                                placeholder=\"Tulis Pesan Anda...\"\n                            />\n                        </div>\n                        <div className=\"form-group\">\n                            {/* <AsyncAction\n                                action={doHandleSendMessage}\n                                render={({ run, loading }) => ( */}\n                            <button\n                                type=\"button\"\n                                onClick={doHandleSendMessage}\n                                className={classNames(\"btn btn-primary btn-lg btn-block\")}\n                            >\n                                Kirim Pesan\n                            </button>\n                            {/* )}\n                            /> */}\n                        </div>\n                    </div>\n                </div>\n            </ModalBody>\n        </Modal>\n    );\n};\n\nconst mapStateToProps = (state) => ({ customer: state.customer });\n\nconst mapDispatchToProps = {\n    addChatList,\n};\n\nexport default connect(mapStateToProps, mapDispatchToProps)(ModalChat);\n","import React, { useEffect, useState } from \"react\";\nimport { ModalBody, Modal, ModalHeader, ModalFooter } from \"reactstrap\";\nimport shopApi from \"../../api/shop\";\nimport Rating from \"./Rating\";\nimport Pagination from \"./Pagination\";\n\nconst ModalMallReviews = (props) => {\n    const { toggle, isOpen, storeId } = props;\n    const [state, setState] = useState({ items: [] });\n    const [options, setOptions] = useState({ page: 1, limit: 5 });\n\n    useEffect(() => {\n        shopApi.getMallReviews(storeId, options).then((res) => {\n            setState(res.data);\n        });\n\n        // eslint-disable-next-line react-hooks/exhaustive-deps\n    }, [options]);\n\n    let reviewList = [];\n    if (state.items) {\n        reviewList = state.items.map((review, index) => (\n            <li key={index} className=\"reviews-list__item\">\n                <div className=\"review\">\n                    <div className=\" review__content\">\n                        <div className=\" review__author\">{review.customerName}</div>\n                        <div className=\" review__rating\">\n                            <Rating value={review.rate} />\n                        </div>\n                        <div className=\" review__text\">{review.text}</div>\n                        <div className=\" review__date\">{review.createdAt}</div>\n                    </div>\n                </div>\n            </li>\n        ));\n    }\n\n    return (\n        <Modal isOpen={isOpen} toggle={() => toggle(!isOpen)} size=\"xl\">\n            <ModalHeader toggle={() => toggle(!isOpen)}>\n                <h5>Ulasan Toko</h5>\n            </ModalHeader>\n            <ModalBody>\n                <div\n                    className=\"reviews-view\"\n                    style={{\n                        maxHeight: \"50vh\",\n                        overflowY: \"auto\",\n                        overflowX: \"hidden\",\n                    }}\n                >\n                    <div className=\"reviews-view__list\">\n                        <div className=\"reviews-list\">\n                            {reviewList.length > 0 ? (\n                                <>\n                                    <ol className=\"reviews-list__content\">{reviewList}</ol>\n                                </>\n                            ) : (\n                                <h5 className=\"text-center\">Belum Ada Ulasan</h5>\n                            )}\n                        </div>\n                    </div>\n                </div>\n            </ModalBody>\n            {reviewList.length > 0 && (\n                <ModalFooter className=\"align-items-center justify-content-center\">\n                    <div className=\"reviews-list__pagination\">\n                        <Pagination\n                            onPageChange={(page) => setOptions({ ...options, page })}\n                            current={state.page}\n                            siblings={2}\n                            total={state.pages}\n                        />\n                    </div>\n                </ModalFooter>\n            )}\n        </Modal>\n    );\n};\n\nexport default ModalMallReviews;\n","import React, { useEffect, useReducer, useState } from \"react\";\nimport { Helmet } from \"react-helmet-async\";\nimport { Link, useParams } from \"react-router-dom\";\nimport theme from \"../../data/theme\";\nimport storeApi from \"../../api/store\";\nimport { FETCH_DETAIL_STORE, FETCH_DETAIL_STORE_SUCCESS } from \"../../data/constant\";\nimport BlockLoader from \"../blocks/BlockLoader\";\nimport ShopProducts from \"../shop/ShopProducts\";\nimport ModalChat from \"../shared/ModalChat\";\nimport { connect } from \"react-redux\";\nimport Rating from \"../shared/Rating\";\nimport ModalMallReviews from \"../shared/ModalMallReviews\";\n\nconst initialState = {\n    store: null,\n    storeIsLoading: true,\n};\n\nfunction reducer(state, action) {\n    switch (action.type) {\n        case FETCH_DETAIL_STORE:\n            return { ...state, storeIsLoading: true };\n\n        case FETCH_DETAIL_STORE_SUCCESS:\n            return { ...state, storeIsLoading: false, store: action.store };\n\n        default:\n            throw new Error();\n    }\n}\n\nconst Store = (props) => {\n    const { slug } = useParams();\n    const [state, dispatch] = useReducer(reducer, initialState);\n    const [isOpen, setIsOpen] = useState(false);\n    const [openReviews, setOpenReviews] = useState(false);\n\n    const { store, storeIsLoading } = state;\n\n    useEffect(() => {\n        dispatch({ type: FETCH_DETAIL_STORE });\n        storeApi.getStore(slug).then((res) => {\n            const { data, status } = res;\n            if (status.code === 200) {\n                dispatch({ type: FETCH_DETAIL_STORE_SUCCESS, store: data });\n            } else {\n                dispatch({ type: FETCH_DETAIL_STORE_SUCCESS, store: null });\n            }\n        });\n        return () => { };\n    }, [slug]);\n\n    const doOpenModal = () => {\n        setIsOpen(!isOpen);\n    };\n\n    if (storeIsLoading) {\n        return <BlockLoader />;\n    }\n\n    if (store == null) {\n        return (\n            <div className=\"block block-empty \">\n                <div className=\"container\">\n                    <div className=\"block-empty__body\">\n                        <div className=\"block-empty__message\">Toko Tidak Ditemukan</div>\n                        <div className=\"block-empty__actions\">\n                            <Link to=\"/store\" className=\"btn btn-primary btn-sm\">\n                                Cari Toko\n                            </Link>\n                        </div>\n                    </div>\n                </div>\n            </div>\n        );\n    }\n\n    return (\n        <div className=\"pt-4\" style={{ backgroundColor: 'rgb(236, 236, 237)' }}>\n            <Helmet>\n                <title>{`${store.name}  ${theme.name}`}</title>\n            </Helmet>\n            <div className=\"container\">\n                <div className=\"card shadow\" style={{ borderRadius: '20px' }}>\n                    <div\n                        style={{\n                            display: \"block\",\n                            width: \"100%\",\n                            maxWidth: \"1200px\",\n                            maxHeight: \"100%\",\n                            position: \"relative\",\n                            paddingTop: \"30.25%\",\n                            overflow: \"hidden\",\n                            backgroundColor: \"rgb(255,247,241)\",\n                            borderTopLeftRadius: '20px',\n                            borderTopRightRadius: '20px',\n                            borderBottom: \"2px solid #F0F0F0\",\n                        }}\n                    >\n                        <img\n                            alt=\"\"\n                            src={store.image.header}\n                            style={{\n                                display: \"block\",\n                                position: \"absolute\",\n                                height: \"100%\",\n                                objectFit: \"contain\",\n                                top: \"50%\",\n                                left: \"50%\",\n                                transform: \"translate(-50%,-50%)\",\n                            }}\n                        />\n                    </div>\n                    <div className=\"card-body position-relative\" style={{ borderBottomLeftRadius: '20px', borderBottomRightRadius: '20px', backgroundColor: 'rgb(255,247,241)' }}>\n                        <div\n                            className=\"rounded-circle shadow d-flex justify-content-center position-absolute img-profile__store bg-white\"\n                            style={{\n                                background: ` no-repeat center/75% url(${store.image.primary})`,\n                            }}\n                        ></div>\n                        <div className=\"row\">\n                            <div className=\"col-md-4\">\n                                <h4 className=\"m-0\">{store.name}</h4>\n                                <span>\n                                    {store.location.province} | Total {store.totalProduct} Produk\n                                </span>\n                            </div>\n                            <div className=\"offset-md-2 col-md-4\">\n                                {props.auth && (\n                                    <button className=\"btn btn-sm btn-primary d-block mt-1\" onClick={doOpenModal}>\n                                        Chat Penjual\n                                    </button>\n                                )}\n                            </div>\n                        </div>\n                        <div className=\"row\">\n                            <div className=\"col-md-6\">\n                                <small className=\"store-info__title mt-2\">Nama PIC</small>\n                                <small className=\"mt-0 text-uppercase\">{store.pic.name}</small>\n                                <small className=\"store-info__title mt-2\">Telp PIC</small>\n                                <small className=\"mt-0\">{store.pic.phone}</small>\n                                <small className=\"store-info__title mt-2\">Jabatan PIC</small>\n                                <small className=\"mt-0 text-uppercase\">{store.pic.position}</small>\n                            </div>\n                            <div className=\"col-md-6\">\n                                <small className=\"store-info__title\">Alamat Toko</small>\n                                <small className=\"mt-0\">{store.location.address}</small>\n                                <small className=\"store-info__title\">Email Toko</small>\n                                <small className=\"mt-0\">{store.email}</small>\n                                <small className=\"store-info__title\">Jenis Usaha</small>\n                                <small className=\"mt-0\">{store.type}</small>\n                                <small className=\"store-info__title\">Rating Toko</small>\n                                <div className=\"product__rating mt-2\">\n                                    <div className=\"product__rating-stars\">\n                                        <Rating value={store.averageRating} />\n                                    </div>\n                                    <div\n                                        className=\"product__rating-legend\"\n                                        style={{ color: \"blue\", cursor: \"pointer\" }}\n                                        onClick={() => setOpenReviews(!openReviews)}\n                                    >\n                                        <u>({`${store.totalRating} Ulasan`})</u>\n                                    </div>\n                                </div>\n                            </div>\n                        </div>\n                    </div>\n                </div>\n                <ModalMallReviews storeId={store.id} toggle={setOpenReviews} isOpen={openReviews} />\n            </div>\n            <ShopProducts forAct=\"store\" />\n            {props.auth && isOpen && <ModalChat isOpen={isOpen} toggle={doOpenModal} store={store} />}\n        </div>\n    );\n};\n\nconst mapStateToProps = (state) => ({ auth: state.auth });\n\nexport default connect(mapStateToProps, null)(Store);\n"],"sourceRoot":""}