(this["webpackJsonpsiplah.eureka"]=this["webpackJsonpsiplah.eureka"]||[]).push([[24],{177:function(e,t,n){"use strict";function l(e,t){if(null==e)return{};var n,l,a=function(e,t){if(null==e)return{};var n,l,a={},i=Object.keys(e);for(l=0;l<i.length;l++)n=i[l],t.indexOf(n)>=0||(a[n]=e[n]);return a}(e,t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(l=0;l<i.length;l++)n=i[l],t.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(e,n)&&(a[n]=e[n])}return a}n.d(t,"a",(function(){return l}))},186:function(e,t,n){"use strict";var l=n(1);class a extends l.Component{constructor(){super(...arguments),this.handleTransitionEnd=e=>{this.content&&"height"===e.propertyName&&(this.content.style.height="")},this.handleToggle=()=>{const{toggleClass:e}=this.props;this.item&&this.content&&e&&(this.item.classList.contains(e)?this.collapse():this.expand())},this.setItemRef=e=>{this.item=e},this.setContentRef=e=>{this.content=e}}componentDidMount(){if(!this.content)return;const{open:e}=this.props;this.content.addEventListener("transitionend",this.handleTransitionEnd),!0===e&&this.expand(!0),!1===e&&this.collapse(!0)}componentDidUpdate(){const{open:e}=this.props;"boolean"===typeof e&&(e?this.expand():this.collapse())}componentWillUnmount(){this.content&&this.content.removeEventListener("transitionend",this.handleTransitionEnd)}expand(){let e=arguments.length>0&&void 0!==arguments[0]&&arguments[0];const{toggleClass:t}=this.props;if(this.item&&this.content&&t)if(e)this.item.classList.add(t),this.content.style.height="";else{const e=this.content.getBoundingClientRect().height;this.item.classList.add(t);const n=this.content.getBoundingClientRect().height;this.content.style.height="".concat(e,"px"),this.content.getBoundingClientRect(),this.content.style.height="".concat(n,"px")}}collapse(){let e=arguments.length>0&&void 0!==arguments[0]&&arguments[0];const{toggleClass:t}=this.props;if(e)this.item.classList.remove(t),this.content.style.height="";else{const e=this.content.getBoundingClientRect().height;this.content.style.height="".concat(e,"px"),this.item.classList.remove(t),this.content.getBoundingClientRect(),this.content.style.height=""}}render(){const{render:e}=this.props;return e?e({toggle:this.handleToggle,setItemRef:this.setItemRef,setContentRef:this.setContentRef}):null}}t.a=a},187:function(e,t,n){"use strict";const l={getCategories:()=>fetch("".concat("https://siplah.eurekabookhouse.co.id/api/","product/category")).then(e=>e.json())};t.a=l},410:function(e,t,n){"use strict";n.r(t);var l=n(1),a=n.n(l),i=n(34),o=n.n(i),s=n(40),c=n(177),r=n(3),u=n.n(r),h=n(39);const m=["external","children"],p=["to","replace","innerRef"],d=a.a.memo(e=>{const{external:t,children:n}=e,l=Object(c.a)(e,m);let i;if(t){const{to:e,replace:t,innerRef:o}=l,s=Object(c.a)(l,p);i=a.a.createElement("a",Object.assign({href:e},s),n)}else i=a.a.createElement(h.b,l,n);return i});d.propTypes={to:u.a.oneOfType([u.a.string,u.a.shape({pathname:u.a.string,search:u.a.string,hash:u.a.string,state:u.a.any})]).isRequired,replace:u.a.bool,innerRef:u.a.oneOfType([u.a.func,u.a.object]),external:u.a.bool},d.defaultProps={external:!1};var b=d,g=n(186),y=n(169);function k(e){const{links:t,level:n,onItemClick:i}=e,o=e=>{i&&i(e)},s=t.map((e,t)=>{let l;return"link"===e.type||"button"===e.type||"href"===e.type?l=a.a.createElement(g.a,{toggleClass:"mobile-links__item--open",render:t=>{let l,s,c,{toggle:r,setItemRef:u,setContentRef:h}=t;return e.children&&e.children.length>0&&(l=a.a.createElement("button",{className:"mobile-links__item-toggle",type:"button",onClick:r},a.a.createElement(y.b,{className:"mobile-links__item-arrow"})),s=a.a.createElement("div",{className:"mobile-links__item-sub-links",ref:h},a.a.createElement(k,{links:e.children,level:n+1,onItemClick:i}))),c="link"===e.type?a.a.createElement(b,{to:e.url,external:e.external,className:"mobile-links__item-link",onClick:()=>o(e)},e.label):a.a.createElement("button",{type:"button",className:"mobile-links__item-link",onClick:()=>o(e)},e.label),a.a.createElement("div",{className:"mobile-links__item",ref:u},a.a.createElement("div",{className:"mobile-links__item-title"},c,l),s)}}):"divider"===e.type&&(l=a.a.createElement("div",{className:"mobile-links__divider"})),a.a.createElement("li",{key:t},l)});return Object(l.useMemo)(()=>a.a.createElement("ul",{className:"mobile-links mobile-links--level--".concat(n)},s),[n,s])}k.defaultProps={links:[],level:0};var f=Object(s.b)(e=>({auth:e.auth}),null)(k),E=n(89),v=n(47),C=n(73),_=[{title:"\u20ac Euro",currency:{code:"EUR",symbol:"\u20ac",name:"Euro"}},{title:"\xa3 Pound Sterling",currency:{code:"GBP",symbol:"\xa3",name:"Pound Sterling"}},{title:"$ US Dollar",currency:{code:"USD",symbol:"$",name:"US Dollar"}},{title:"\u20bd Russian Ruble",currency:{code:"RUB",symbol:"\u20bd",name:"Russian Ruble"}}],R=[{type:"link",label:"Home",url:"/"},{type:"link",auth:!0,label:"Akun",url:"/account",children:[{type:"link",label:"Dashboard",url:"/account/dashboard"},{type:"link",label:"Data Sekolah",url:"/account/detail"},{type:"link",label:"Lokasi Sekolah",url:"/account/address"},{type:"link",label:"Notifikasi",url:"/account/notification"},{type:"link",label:"Transaksi",url:"/account/orders"},{type:"link",label:"Negosiasi",url:"/account/negotiation"},{type:"link",label:"Perbandingan",url:"/account/compare"},{type:"link",label:"Komplain",url:"/account/complaint"}]},{type:"button",label:"Login",auth:!1,url:"",children:[{type:"link",label:"Sekolah",external:!1,url:"/login"},{type:"link",label:"Penjual",external:!0,url:"https://siplah.eurekabookhouse.co.id/penyedia/"}]},{type:"link",label:"Bantuan",url:"/site/technical-support"},{type:"button",label:"Logout",auth:!0,url:"/"}],N=n(18),O=n(187),x=n(42),j=n(43),L=n(20),S=n(27),M=n(10),B=n(23);const P={closeMobileMenu:C.b,changeLocale:v.b,changeCurrency:E.a,customerAdd:x.a,loginCustomer:j.b,resetMiniCart:L.c,resetFirstLogin:S.b};t.default=Object(M.j)(Object(s.b)(e=>({mobileMenuState:e.mobileMenu,auth:e.auth,customer:e.customer,categories:e.categories}),P)((function(e){const[t,n]=Object(l.useState)([]),{mobileMenuState:i,closeMobileMenu:s,changeLocale:c,changeCurrency:r,auth:u,customer:h}=e;Object(l.useEffect)(()=>(O.a.getCategories().then(e=>{const{status:t,data:l}=e;if(200===t.code){const e=l.map(e=>({type:"button",label:e.title,children:e.submenu.menu.map(e=>({type:e.submenu.length>0?"button":"link",label:e.title,url:"/products/category/".concat(e.id,"/").concat(e.url),children:e.submenu.map(e=>({type:"link",label:e.title,url:"/products/category/".concat(e.id,"/").concat(e.url)}))}))}));let t=R.filter(e=>e.auth===u||"undefined"===typeof e.auth);const a={type:"button",label:"Kategori",url:"",children:e};t.splice(1,0,a),n(t)}}),()=>{}),[u]);const m=o()("mobilemenu",{"mobilemenu--open":i.open});return a.a.createElement("div",{className:m},a.a.createElement("div",{className:"mobilemenu__backdrop",onClick:s}),a.a.createElement("div",{className:"mobilemenu__body"},a.a.createElement("div",{className:"mobilemenu__header"},a.a.createElement("div",{className:"mobilemenu__title"},"Menu"),a.a.createElement("button",{type:"button",className:"mobilemenu__close",onClick:s},a.a.createElement(y.o,null))),a.a.createElement("div",{className:"mobilemenu__content"},a.a.createElement(f,{links:t,onItemClick:t=>{if(t.data&&("language"===t.data.type&&(c(t.data.locale),s()),"currency"===t.data.type)){const e=_.find(e=>e.currency.code===t.data.code);e&&(r(e.currency),s())}"link"===t.type&&s(),"logout"===t.label.toLowerCase()&&(N.a.logout(null===h||void 0===h?void 0:h.token).then(t=>{e.history.push("/login"),e.loginCustomer(!1),e.customerAdd({}),e.resetMiniCart(),e.resetFirstLogin(),B.b.success("Berhasil logout")}),s())}}))))})))}}]);
//# sourceMappingURL=24.66450ddd.chunk.js.map